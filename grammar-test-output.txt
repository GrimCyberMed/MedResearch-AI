
> medresearch-ai@6.0.0-beta test
> node --test tests/test-grammar-checking.js

ğŸ§ª Grammar and Style Checking Tool - Test Suite

============================================================

ğŸš€ Starting Grammar and Style Checking Tests...


ğŸ“‹ Test 1: Spelling Error Detection
------------------------------------------------------------
2025-12-13 13:25:27 [[32minfo[39m]: Starting grammar check for 168 characters
2025-12-13 13:25:27 [[32minfo[39m]: Found 4 spelling errors
2025-12-13 13:25:27 [[32minfo[39m]: Found 0 style/grammar issues
2025-12-13 13:25:27 [[32minfo[39m]: Grammar check complete: 4 issues found, score: 80.0%
âœ… Total errors: 4
âœ… Spelling errors: 4
âœ… Grammar score: 80.0%

ğŸ“Š Detected Errors:
   1. "occured" â†’ "occurred" (Spelling error: "occured" should be "occurred")
   2. "recieved" â†’ "received" (Spelling error: "recieved" should be "received")
   3. "definately" â†’ "definitely" (Spelling error: "definately" should be "definitely")
   4. "reccomend" â†’ "recommend" (Spelling error: "reccomend" should be "recommend")

âœ… TEST PASSED: Correctly detected spelling errors

ğŸ“‹ Test 2: Contraction Detection (Academic Style)
------------------------------------------------------------
2025-12-13 13:25:27 [[32minfo[39m]: Starting grammar check for 168 characters
2025-12-13 13:25:27 [[32minfo[39m]: Found 4 style/grammar issues
2025-12-13 13:25:27 [[32minfo[39m]: Grammar check complete: 4 issues found, score: 92.0%
âœ… Total errors: 4
âœ… Style issues: 4

ğŸ“Š Detected Contractions:
   1. "didn't" â†’ "did not"
   2. "can't" â†’ "cannot"
   3. "wasn't" â†’ "was not"
   4. "don't" â†’ "do not"

âœ… TEST PASSED: Correctly detected contractions

ğŸ“‹ Test 3: Informal Language Detection
------------------------------------------------------------
2025-12-13 13:25:27 [[32minfo[39m]: Starting grammar check for 184 characters
2025-12-13 13:25:27 [[32minfo[39m]: Found 4 style/grammar issues
2025-12-13 13:25:27 [[32minfo[39m]: Grammar check complete: 4 issues found, score: 92.0%
âœ… Total errors: 4
âœ… Style issues: 4

ğŸ“Š Detected Informal Language:
   1. "a lot of" â†’ "many" (Avoid informal language in academic writing)
   2. "pretty much" â†’ "approximately" (Avoid informal language in academic writing)
   3. "really" â†’ "" (Avoid informal language in academic writing)
   4. "very" â†’ "" (Avoid informal language in academic writing)

âœ… TEST PASSED: Correctly detected informal language

ğŸ“‹ Test 4: First Person Detection
------------------------------------------------------------
2025-12-13 13:25:27 [[32minfo[39m]: Starting grammar check for 153 characters
2025-12-13 13:25:27 [[32minfo[39m]: Found 1 style/grammar issues
2025-12-13 13:25:27 [[32minfo[39m]: Grammar check complete: 1 issues found, score: 99.0%
âœ… Total errors: 1
âœ… Style suggestions: 1

ğŸ“Š Detected First Person:
   1. "I" â†’ "I"

âš ï¸ TEST WARNING: Expected more first person detections

ğŸ“‹ Test 5: Correction Application
------------------------------------------------------------
2025-12-13 13:25:27 [[32minfo[39m]: Starting grammar check for 68 characters
2025-12-13 13:25:27 [[32minfo[39m]: Found 2 spelling errors
2025-12-13 13:25:27 [[32minfo[39m]: Found 0 style/grammar issues
2025-12-13 13:25:27 [[32minfo[39m]: Grammar check complete: 2 issues found, score: 90.0%
âœ… Original text: "This study occured in 2020. The results were definately significant."
âœ… Corrected text: "This study occurred in 2020. The results were definitely significant."
âœ… Errors corrected: 2

âœ… TEST PASSED: Corrections applied successfully

ğŸ“‹ Test 6: Grammar Score Calculation
------------------------------------------------------------
2025-12-13 13:25:27 [[32minfo[39m]: Starting grammar check for 213 characters
2025-12-13 13:25:27 [[32minfo[39m]: Found 0 spelling errors
2025-12-13 13:25:27 [[32minfo[39m]: Found 4 style/grammar issues
2025-12-13 13:25:27 [[32minfo[39m]: Grammar check complete: 4 issues found, score: 80.0%
2025-12-13 13:25:27 [[32minfo[39m]: Starting grammar check for 157 characters
2025-12-13 13:25:27 [[32minfo[39m]: Found 0 spelling errors
2025-12-13 13:25:27 [[32minfo[39m]: Found 8 style/grammar issues
2025-12-13 13:25:27 [[32minfo[39m]: Grammar check complete: 8 issues found, score: 75.0%
âœ… Clean text score: 80.0%
âœ… Error-prone text score: 75.0%
âœ… Clean text errors: 4
âœ… Error-prone text errors: 8

âœ… TEST PASSED: Grammar score calculated correctly

ğŸ“‹ Test 7: Statistics Calculation
------------------------------------------------------------
2025-12-13 13:25:27 [[32minfo[39m]: Starting grammar check for 148 characters
2025-12-13 13:25:27 [[32minfo[39m]: Found 0 spelling errors
2025-12-13 13:25:27 [[32minfo[39m]: Found 3 style/grammar issues
2025-12-13 13:25:27 [[32minfo[39m]: Grammar check complete: 3 issues found, score: 85.0%
âœ… Word count: 21
âœ… Sentence count: 5
âœ… Avg sentence length: 4.2 words
âœ… Total errors: 3

âœ… TEST PASSED: Statistics calculated correctly

ğŸ“‹ Test 8: Report Generation
------------------------------------------------------------
2025-12-13 13:25:27 [[32minfo[39m]: Starting grammar check for 151 characters
2025-12-13 13:25:27 [[32minfo[39m]: Found 2 spelling errors
2025-12-13 13:25:27 [[32minfo[39m]: Found 5 style/grammar issues
2025-12-13 13:25:27 [[32minfo[39m]: Grammar check complete: 7 issues found, score: 71.0%
âœ… Report generated: 1330 characters
âœ… Contains summary: true
âœ… Contains errors: true

ğŸ“Š Report Preview:
# Grammar and Style Check Report

## Summary

- **Grammar Score**: 71.0%
- **Total Issues**: 7
- **Word Count**: 20
- **Sentence Count**: 3
- **Avg Sentence Length**: 6.7 words

## Issues by Type

- **Spelling**: 2
- **Style**: 2
- **Punctuation**: 3

## Issues by Severity

- âŒ **Error**: 5
- âš ï¸ **Warning**: 2

## âŒ Errors (5)

### 1. PUNCTUATION - Line 2

**Original**: `      `

**Correction**: ` `

**Explanation**: Remove extra spaces

### 2. SPELLING - Line 2

**Original**: `occured`

**Corre...

âœ… TEST PASSED: Report generated successfully

ğŸ“‹ Test 9: Performance Test (Large Text)
------------------------------------------------------------
2025-12-13 13:25:27 [[32minfo[39m]: Starting grammar check for 11650 characters
2025-12-13 13:25:27 [[32minfo[39m]: Found 0 spelling errors
2025-12-13 13:25:27 [[32minfo[39m]: Found 200 style/grammar issues
2025-12-13 13:25:27 [[32minfo[39m]: Grammar check complete: 200 issues found, score: 31.0%
âœ… Text length: 11650 characters
âœ… Word count: 1450
âœ… Processing time: 3ms
âœ… Time per 100 words: 0ms

âœ… TEST PASSED: Performance within acceptable limits

============================================================
ğŸ“Š TEST SUMMARY
============================================================
âœ… Spelling Errors
âœ… Contractions
âœ… Informal Language
âœ… First Person
âœ… Correction Application
âœ… Grammar Score
âœ… Statistics
âœ… Report Generation
âœ… Performance

============================================================
TOTAL: 9/9 tests passed (100%)
============================================================

ğŸ‰ ALL TESTS PASSED! Grammar Checking Tool is working correctly.

âœ” tests\test-grammar-checking.js (189.0111ms)
â„¹ tests 1
â„¹ suites 0
â„¹ pass 1
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 197.7947
