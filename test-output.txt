
> medresearch-ai@6.0.0-beta test
> node --test

ğŸ§ª MedResearch AI - Agent Validation Test

============================================================

ğŸ“ Testing Main Agents
------------------------------------------------------------
âŒ Error reading directory: ENOENT: no such file or directory, scandir 'C:\Users\Admin\Documents\AI-Projects\OpenAgents-main\Project\MedResearch-AI\tests\.opencode\agent\medresearch'

ğŸ“ Testing Sub-Agents
------------------------------------------------------------
âŒ Error reading directory: ENOENT: no such file or directory, scandir 'C:\Users\Admin\Documents\AI-Projects\OpenAgents-main\Project\MedResearch-AI\tests\.opencode\agent\subagents\medresearch'

============================================================
ğŸ“‹ Test Summary
============================================================

âœ… Passed: 0/0 tests
âŒ Failed: 0/0 tests

ğŸ“Š Pass Rate: NaN%

ğŸ‰ All tests passed! Agents are properly formatted.

Next steps:
  1. Test agents with OpenCode CLI
  2. Create context files
  3. Create university profiles
  4. Commit to git

âœ” tests\test-agents.js (178.73ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   AMSTAR-2 Quality Assessment - Test Suite                â•‘
â•‘   Systematic Review Quality Appraisal                     â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: High Quality Review ===
2025-12-07 01:47:42 [[32minfo[39m]: Assessing systematic review quality using AMSTAR-2 {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR001",
  "design": "systematic_review"
}
2025-12-07 01:47:42 [[32minfo[39m]: AMSTAR-2 assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR001",
  "overall_rating": "high",
  "confidence": 0.6571428571428571
}
  âœ“ Overall rating: high
  âœ“ Domains assessed: 7
  âœ“ Confidence: 65.7%
  âœ“ Requires review: false
âœ… Test 1 passed: High quality review

=== Test 2: Moderate Quality Review ===
2025-12-07 01:47:42 [[32minfo[39m]: Assessing systematic review quality using AMSTAR-2 {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR002",
  "design": "systematic_review"
}
2025-12-07 01:47:42 [[32minfo[39m]: AMSTAR-2 assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR002",
  "overall_rating": "moderate",
  "confidence": 0.6
}
  âœ“ Overall rating: moderate
  âœ“ Poor domains: 1
  âœ“ Rationale: One critical weakness identified
âœ… Test 2 passed: Moderate quality review

=== Test 3: Low Quality Review ===
2025-12-07 01:47:42 [[32minfo[39m]: Assessing systematic review quality using AMSTAR-2 {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR003",
  "design": "systematic_review"
}
2025-12-07 01:47:42 [[32minfo[39m]: AMSTAR-2 assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR003",
  "overall_rating": "critically_low",
  "confidence": 0.5285714285714285
}
  âœ“ Overall rating: critically_low
  âœ“ Poor domains: 4
âœ… Test 3 passed: Low quality review

=== Test 4: Critically Low Quality Review ===
2025-12-07 01:47:42 [[32minfo[39m]: Assessing systematic review quality using AMSTAR-2 {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR004",
  "design": "systematic_review"
}
2025-12-07 01:47:42 [[32minfo[39m]: AMSTAR-2 assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR004",
  "overall_rating": "critically_low",
  "confidence": 0.42857142857142855
}
  âœ“ Overall rating: critically_low
  âœ“ Poor domains: 6
  âœ“ Requires review: true
âœ… Test 4 passed: Critically low quality review

=== Test 5: Protocol Registration Detection ===
2025-12-07 01:47:42 [[32minfo[39m]: Assessing systematic review quality using AMSTAR-2 {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR005",
  "design": "systematic_review"
}
2025-12-07 01:47:42 [[32minfo[39m]: AMSTAR-2 assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR005",
  "overall_rating": "critically_low",
  "confidence": 0.42857142857142855
}
2025-12-07 01:47:42 [[32minfo[39m]: Assessing systematic review quality using AMSTAR-2 {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR006",
  "design": "systematic_review"
}
2025-12-07 01:47:42 [[32minfo[39m]: AMSTAR-2 assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR006",
  "overall_rating": "critically_low",
  "confidence": 0.3714285714285714
}
  âœ“ With protocol: good
  âœ“ Without protocol: poor
âœ… Test 5 passed: Protocol detection

=== Test 6: Comprehensive Search Detection ===
2025-12-07 01:47:42 [[32minfo[39m]: Assessing systematic review quality using AMSTAR-2 {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR007",
  "design": "systematic_review"
}
2025-12-07 01:47:42 [[32minfo[39m]: AMSTAR-2 assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR007",
  "overall_rating": "critically_low",
  "confidence": 0.4714285714285714
}
2025-12-07 01:47:42 [[32minfo[39m]: Assessing systematic review quality using AMSTAR-2 {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR008",
  "design": "systematic_review"
}
2025-12-07 01:47:42 [[32minfo[39m]: AMSTAR-2 assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR008",
  "overall_rating": "critically_low",
  "confidence": 0.41428571428571426
}
  âœ“ Comprehensive search: good
  âœ“ Limited search: poor
âœ… Test 6 passed: Search detection

=== Test 7: Duplicate Processes Detection ===
2025-12-07 01:47:42 [[32minfo[39m]: Assessing systematic review quality using AMSTAR-2 {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR009",
  "design": "systematic_review"
}
2025-12-07 01:47:42 [[32minfo[39m]: AMSTAR-2 assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR009",
  "overall_rating": "critically_low",
  "confidence": 0.48571428571428565
}
2025-12-07 01:47:42 [[32minfo[39m]: Assessing systematic review quality using AMSTAR-2 {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR010",
  "design": "systematic_review"
}
2025-12-07 01:47:42 [[32minfo[39m]: AMSTAR-2 assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR010",
  "overall_rating": "critically_low",
  "confidence": 0.42857142857142855
}
  âœ“ With duplicate selection: good
  âœ“ With duplicate extraction: good
âœ… Test 7 passed: Duplicate processes detection

=== Test 8: Publication Bias Assessment ===
2025-12-07 01:47:42 [[32minfo[39m]: Assessing systematic review quality using AMSTAR-2 {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR011",
  "design": "systematic_review"
}
2025-12-07 01:47:42 [[32minfo[39m]: AMSTAR-2 assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR011",
  "overall_rating": "critically_low",
  "confidence": 0.41428571428571426
}
2025-12-07 01:47:42 [[32minfo[39m]: Assessing systematic review quality using AMSTAR-2 {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR012",
  "design": "systematic_review"
}
2025-12-07 01:47:42 [[32minfo[39m]: AMSTAR-2 assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR012",
  "overall_rating": "critically_low",
  "confidence": 0.34285714285714286
}
  âœ“ With bias assessment: good
  âœ“ Without bias assessment: poor
âœ… Test 8 passed: Publication bias assessment

============================================================
TEST SUMMARY
============================================================
Total tests: 8
Passed: 8 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-amstar2.js (348.097ms)
2025-12-07 01:47:42 [[32minfo[39m]: Cache service initialized {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "stdTTL": 300,
  "checkperiod": 60,
  "useClones": false,
  "maxKeys": 1000
}
ğŸ§ª Citation Verification Tool - Test Suite

============================================================

ğŸš€ Starting Citation Verification Tool Tests...


ğŸ“‹ Test 1: Verify Valid PMIDs
------------------------------------------------------------
2025-12-07 01:47:42 [[32minfo[39m]: Starting batch citation verification for 2 citations
2025-12-07 01:47:42 [[32minfo[39m]: Verifying PMID: 33782619
2025-12-07 01:47:43 [[32minfo[39m]: PMID 33782619 verified: Initial report of decreased SARS-CoV-2 viral load after inoculation with the BNT162b2 vaccine.
2025-12-07 01:47:43 [[32minfo[39m]: Verified 1/2: 33782619 - verified
2025-12-07 01:47:43 [[32minfo[39m]: Verifying PMID: 32109013
2025-12-07 01:47:43 [[32minfo[39m]: PMID 32109013 verified: Clinical Characteristics of Coronavirus Disease 2019 in China.
2025-12-07 01:47:43 [[32minfo[39m]: Verified 2/2: 32109013 - verified
2025-12-07 01:47:43 [[32minfo[39m]: Verification report generated (691 characters)
2025-12-07 01:47:43 [[32minfo[39m]: Batch verification complete: 2/2 verified (100.0%)
âœ… Total citations: 2
âœ… Verified: 2
âœ… Verification rate: 100.0%
âœ… Processing time: 1135ms

   PMID 33782619:
   Title: Initial report of decreased SARS-CoV-2 viral load after inoc...
   Journal: Nature medicine
   Year: 2021

   PMID 32109013:
   Title: Clinical Characteristics of Coronavirus Disease 2019 in Chin...
   Journal: The New England journal of medicine
   Year: 2020

âœ… TEST PASSED: All PMIDs verified successfully

ğŸ“‹ Test 2: Verify Valid DOIs
------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Starting batch citation verification for 1 citations
2025-12-07 01:47:43 [[32minfo[39m]: Verifying DOI: 10.1056/NEJMoa2034577
2025-12-07 01:47:44 [[32minfo[39m]: DOI 10.1056/NEJMoa2034577 verified: Safety and Efficacy of the BNT162b2 mRNA Covid-19 Vaccine
2025-12-07 01:47:44 [[32minfo[39m]: Verified 1/1: 10.1056/NEJMoa2034577 - verified
2025-12-07 01:47:44 [[32minfo[39m]: Verification report generated (597 characters)
2025-12-07 01:47:44 [[32minfo[39m]: Batch verification complete: 1/1 verified (100.0%)
âœ… Total citations: 1
âœ… Verified: 1
âœ… Verification rate: 100.0%

   DOI 10.1056/NEJMoa2034577:
   Title: Safety and Efficacy of the BNT162b2 mRNA Covid-19 Vaccine...
   Journal: New England Journal of Medicine
   Year: 2020

âœ… TEST PASSED: DOI verified successfully

ğŸ“‹ Test 3: Handle Invalid PMIDs
------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Starting batch citation verification for 2 citations
2025-12-07 01:47:44 [[32minfo[39m]: Verifying PMID: 99999999
2025-12-07 01:47:44 [[32minfo[39m]: Verified 1/2: 99999999 - not_found
2025-12-07 01:47:45 [[32minfo[39m]: Verifying PMID: 1234
2025-12-07 01:47:45 [[32minfo[39m]: Verified 2/2: 1234 - error
2025-12-07 01:47:45 [[32minfo[39m]: Verification report generated (630 characters)
2025-12-07 01:47:45 [[32minfo[39m]: Batch verification complete: 0/2 verified (0.0%)
âœ… Total citations: 2
âœ… Unverified: 1
âœ… Errors: 1

   99999999: not_found - PMID not found in PubMed: cannot get document summary

   1234: error - Invalid PMID format (must be 7-8 digits)

âœ… TEST PASSED: Invalid PMIDs handled correctly

ğŸ“‹ Test 4: Mixed Citations (PMIDs and DOIs)
------------------------------------------------------------
2025-12-07 01:47:45 [[32minfo[39m]: Starting batch citation verification for 3 citations
2025-12-07 01:47:45 [[32minfo[39m]: Verified 1/3: 33782619 - verified
2025-12-07 01:47:45 [[32minfo[39m]: Verified 2/3: 10.1056/NEJMoa2034577 - verified
2025-12-07 01:47:46 [[32minfo[39m]: Verified 3/3: 99999999 - not_found
2025-12-07 01:47:46 [[32minfo[39m]: Verification report generated (849 characters)
2025-12-07 01:47:46 [[32minfo[39m]: Batch verification complete: 2/3 verified (66.7%)
âœ… Total citations: 3
âœ… Verified: 2
âœ… Unverified: 1
âœ… Verification rate: 66.7%

âœ… TEST PASSED: Mixed citations handled correctly

ğŸ“‹ Test 5: Performance Test (10 citations)
------------------------------------------------------------
2025-12-07 01:47:46 [[32minfo[39m]: Starting batch citation verification for 10 citations
2025-12-07 01:47:46 [[32minfo[39m]: Verified 1/10: 33782619 - verified
2025-12-07 01:47:46 [[32minfo[39m]: Verified 2/10: 32109013 - verified
2025-12-07 01:47:46 [[32minfo[39m]: Verifying PMID: 33301246
2025-12-07 01:47:46 [[32minfo[39m]: PMID 33301246 verified: Safety and Efficacy of the BNT162b2 mRNA Covid-19 Vaccine.
2025-12-07 01:47:46 [[32minfo[39m]: Verified 3/10: 33301246 - verified
2025-12-07 01:47:47 [[32minfo[39m]: Verifying PMID: 33378609
2025-12-07 01:47:47 [[32minfo[39m]: PMID 33378609 verified: Efficacy and Safety of the mRNA-1273 SARS-CoV-2 Vaccine.
2025-12-07 01:47:47 [[32minfo[39m]: Verified 4/10: 33378609 - verified
2025-12-07 01:47:47 [[32minfo[39m]: Verifying PMID: 33301245
2025-12-07 01:47:48 [[32minfo[39m]: PMID 33301245 verified: SARS-CoV-2 Vaccination - An Ounce (Actually, Much Less) of Prevention.
2025-12-07 01:47:48 [[32minfo[39m]: Verified 5/10: 33301245 - verified
2025-12-07 01:47:48 [[32minfo[39m]: Verified 6/10: 10.1056/NEJMoa2034577 - verified
2025-12-07 01:47:48 [[32minfo[39m]: Verifying DOI: 10.1016/S0140-6736(20)32661-1
2025-12-07 01:47:49 [[32minfo[39m]: DOI 10.1016/S0140-6736(20)32661-1 verified: Safety and efficacy of the ChAdOx1 nCoV-19 vaccine (AZD1222) against SARS-CoV-2: an interim analysis of four randomised controlled trials in Brazil, South Africa, and the UK
2025-12-07 01:47:49 [[32minfo[39m]: Verified 7/10: 10.1016/S0140-6736(20)32661-1 - verified
2025-12-07 01:47:49 [[32minfo[39m]: Verified 8/10: 99999999 - not_found
2025-12-07 01:47:50 [[32minfo[39m]: Verifying PMID: 99999998
2025-12-07 01:47:50 [[32minfo[39m]: Verified 9/10: 99999998 - not_found
2025-12-07 01:47:50 [[32minfo[39m]: Verifying PMID: 99999997
2025-12-07 01:47:51 [[32minfo[39m]: Verified 10/10: 99999997 - not_found
2025-12-07 01:47:51 [[32minfo[39m]: Verification report generated (1603 characters)
2025-12-07 01:47:51 [[32minfo[39m]: Batch verification complete: 7/10 verified (70.0%)
âœ… Total citations: 10
âœ… Verified: 7
âœ… Processing time: 4984ms
âœ… Average time per citation: 498ms

âœ… TEST PASSED: Performance within acceptable limits

============================================================
ğŸ“Š TEST SUMMARY
============================================================
âœ… Valid PMIDs
âœ… Valid DOIs
âœ… Invalid PMIDs
âœ… Mixed Citations
âœ… Performance

============================================================
TOTAL: 5/5 tests passed (100%)
============================================================

ğŸ‰ ALL TESTS PASSED! Citation Verification Tool is working correctly.

âœ” tests\test-citation-verification.js (8572.9025ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Cochrane Library Integration - Test Suite               â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Basic Cochrane Library Search ===
2025-12-07 01:47:42 [[32minfo[39m]: Searching Cochrane Library {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "query": "depression",
  "database": "all"
}
2025-12-07 01:47:42 [[32minfo[39m]: Cochrane Library search complete {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "count": 2,
  "retrieved": 2
}
  âœ“ Query: depression
  âœ“ Count: 2
  âœ“ Retrieved: 2
  âœ“ First result: Exercise for depression...
âœ… Test 1 passed: Basic search works

=== Test 2: Database Filter ===
2025-12-07 01:47:42 [[32minfo[39m]: Searching Cochrane Library {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "query": "anxiety",
  "database": "cochrane_reviews"
}
2025-12-07 01:47:42 [[32minfo[39m]: Cochrane Library search complete {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "count": 2,
  "retrieved": 2
}
  âœ“ Database: cochrane_reviews
  âœ“ Results: 2
âœ… Test 2 passed: Database filter works

=== Test 3: Year Range Filter ===
2025-12-07 01:47:42 [[32minfo[39m]: Searching Cochrane Library {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "query": "exercise",
  "database": "all"
}
2025-12-07 01:47:42 [[32minfo[39m]: Cochrane Library search complete {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "count": 2,
  "retrieved": 2
}
  âœ“ Year range: 2010-2020
  âœ“ Filters applied: year >= 2010, year <= 2020
âœ… Test 3 passed: Year range filter works

=== Test 4: Review Type Filter ===
2025-12-07 01:47:42 [[32minfo[39m]: Searching Cochrane Library {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "query": "therapy",
  "database": "all"
}
2025-12-07 01:47:42 [[32minfo[39m]: Cochrane Library search complete {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "count": 2,
  "retrieved": 2
}
  âœ“ Review type: intervention
  âœ“ Results: 2
âœ… Test 4 passed: Review type filter works

=== Test 5: Get Review Details ===
2025-12-07 01:47:42 [[32minfo[39m]: Retrieving Cochrane review details {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "review_id": "CD001234"
}
2025-12-07 01:47:42 [[32minfo[39m]: Cochrane review details retrieved {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "review_id": "CD001234",
  "title": "Exercise for depression"
}
  âœ“ Review ID: CD001234
  âœ“ Title: Exercise for depression...
  âœ“ Included studies: 35
  âœ“ Participants: 1356
  âœ“ Has meta-analysis: true
âœ… Test 5 passed: Review details retrieval works

=== Test 6: PICO Extraction from Review ===
  âœ“ Population: Adults with depression
  âœ“ Intervention: Exercise therapy
  âœ“ Comparison: No treatment or usual care
  âœ“ Outcomes: Depression symptoms, Quality of life, Adverse events
âœ… Test 6 passed: PICO extraction works

=== Test 7: Citation Export ===
  âœ“ Plain: Cooney GM, Dwan K, Greig CA, et al. Exercise for depression. Cochrane Database S...
  âœ“ BibTeX: Generated successfully
  âœ“ RIS: Generated successfully
  âœ“ EndNote: Generated successfully
âœ… Test 7 passed: Citation export works

============================================================
TEST SUMMARY
============================================================
Total tests: 7
Passed: 7 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================

ğŸ‰ All tests passed! Cochrane Library integration is working correctly.

âœ” tests\test-cochrane-library.js (376.3188ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   NLP Data Extraction Tool - Comprehensive Test Suite     â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Complete RCT with Full PICO ===
2025-12-07 01:47:42 [[32minfo[39m]: Extracting data using NLP {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "RCT-001",
  "design": "randomized_controlled_trial"
}
2025-12-07 01:47:42 [[32minfo[39m]: Data extraction complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "RCT-001",
  "confidence": 0.74,
  "requires_review": false
}
âœ… Test 1 passed: Complete RCT extraction

=== Test 2: Incomplete Study (Manual Review Required) ===
2025-12-07 01:47:42 [[32minfo[39m]: Extracting data using NLP {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "INCOMPLETE-001",
  "design": "randomized_controlled_trial"
}
2025-12-07 01:47:42 [[32minfo[39m]: Data extraction complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "INCOMPLETE-001",
  "confidence": 0.36,
  "requires_review": true
}
âœ… Test 2 passed: Incomplete study flagged for review

=== Test 3: Cohort Study ===
2025-12-07 01:47:42 [[32minfo[39m]: Extracting data using NLP {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "COHORT-001",
  "design": "prospective_cohort"
}
2025-12-07 01:47:42 [[32minfo[39m]: Data extraction complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "COHORT-001",
  "confidence": 0.76,
  "requires_review": false
}
âœ… Test 3 passed: Cohort study extraction

=== Test 4: Surgical Intervention Detection ===
2025-12-07 01:47:42 [[32minfo[39m]: Extracting data using NLP {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SURGERY-001",
  "design": "randomized_controlled_trial"
}
2025-12-07 01:47:42 [[32minfo[39m]: Data extraction complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SURGERY-001",
  "confidence": 0.6399999999999999,
  "requires_review": false
}
âœ… Test 4 passed: Surgical intervention detected

=== Test 5: Behavioral Intervention Detection ===
2025-12-07 01:47:42 [[32minfo[39m]: Extracting data using NLP {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "BEHAVIORAL-001",
  "design": "randomized_controlled_trial"
}
2025-12-07 01:47:42 [[32minfo[39m]: Data extraction complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "BEHAVIORAL-001",
  "confidence": 0.6399999999999999,
  "requires_review": false
}
âœ… Test 5 passed: Behavioral intervention detected

=== Test 6: Multiple Outcomes Extraction ===
2025-12-07 01:47:42 [[32minfo[39m]: Extracting data using NLP {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "MULTI-OUTCOME-001",
  "design": "randomized_controlled_trial"
}
2025-12-07 01:47:42 [[32minfo[39m]: Data extraction complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "MULTI-OUTCOME-001",
  "confidence": 0.52,
  "requires_review": true
}
âœ… Test 6 passed: Multiple outcomes extracted

=== Test 7: Gender-Specific Study ===
2025-12-07 01:47:42 [[32minfo[39m]: Extracting data using NLP {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "GENDER-001",
  "design": "randomized_controlled_trial"
}
2025-12-07 01:47:42 [[32minfo[39m]: Data extraction complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "GENDER-001",
  "confidence": 0.48,
  "requires_review": true
}
âœ… Test 7 passed: Gender-specific study detected

=== Test 8: Non-Significant Results ===
2025-12-07 01:47:42 [[32minfo[39m]: Extracting data using NLP {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "NON-SIG-001",
  "design": "randomized_controlled_trial"
}
2025-12-07 01:47:42 [[32minfo[39m]: Data extraction complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "NON-SIG-001",
  "confidence": 0.5599999999999999,
  "requires_review": true
}
   Note: No outcomes extracted (conservative behavior)
âœ… Test 8 passed: Non-significant results correctly identified

============================================================
TEST SUMMARY
============================================================
Total tests: 8
Passed: 8 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-data-extraction-nlp.js (396.7667ms)
2025-12-07 01:47:42 [[32minfo[39m]: Cache service initialized {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "stdTTL": 300,
  "checkperiod": 60,
  "useClones": false,
  "maxKeys": 1000
}
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  MedResearch AI - Database Integration Test Suite             â•‘
â•‘  Version 4.0.0                                                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… Test Date: 07/12/2025, 1:47:42 am
ğŸ” Sample Query: "diabetes AND exercise"
ğŸ“Š Max Results per Test: 10

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ§ª Testing: 1. PubMed Search...
2025-12-07 01:47:42 [[32minfo[39m]: PubMed search started {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "query": "diabetes AND exercise",
  "max_results": 10
}
2025-12-07 01:47:44 [[32minfo[39m]: PubMed search completed {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "query": "diabetes AND exercise",
  "count": 43204,
  "retrieved": 10,
  "duration": 1666,
  "cached": true
}
âœ… PASSED: 1. PubMed Search

ğŸ§ª Testing: 2. PubMed API Key...
2025-12-07 01:47:44 [[32minfo[39m]: PubMed search cache hit {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "query": "diabetes AND exercise",
  "cacheKey": "pubmed:filters:[object Object]|max_results:10|query:diabetes AND exercise|sort:relevance"
}
âœ… PASSED: 2. PubMed API Key

ğŸ§ª Testing: 3. Europe PMC Search...
2025-12-07 01:47:44 [[32minfo[39m]: Europe PMC search started {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "query": "diabetes AND exercise",
  "max_results": 10
}
2025-12-07 01:47:45 [[32minfo[39m]: Europe PMC search completed {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "query": "diabetes AND exercise",
  "count": 307516,
  "retrieved": 10,
  "duration": 466,
  "cached": true
}
âœ… PASSED: 3. Europe PMC Search

ğŸ§ª Testing: 4. Semantic Scholar Search...
âœ… PASSED: 4. Semantic Scholar Search

ğŸ§ª Testing: 5. Semantic Scholar Get Paper...
âœ… PASSED: 5. Semantic Scholar Get Paper

ğŸ§ª Testing: 6. The Lens Search...
âŒ FAILED: 6. The Lens Search
   Error: No results returned

ğŸ§ª Testing: 7. Unpaywall Open Access...
âœ… PASSED: 7. Unpaywall Open Access

ğŸ§ª Testing: 8. Rate Limiting...
   Testing Semantic Scholar rate limit (1 req/s)...
âœ… PASSED: 8. Rate Limiting

ğŸ§ª Testing: 9. API Key Validation...
âœ… PASSED: 9. API Key Validation

ğŸ§ª Testing: 10. Cross-Database Deduplication...
   Searching across multiple databases...
2025-12-07 01:47:55 [[32minfo[39m]: PubMed search started {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "query": "COVID-19 vaccine",
  "max_results": 5
}
2025-12-07 01:47:56 [[32minfo[39m]: PubMed search completed {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "query": "COVID-19 vaccine",
  "count": 58253,
  "retrieved": 5,
  "duration": 994,
  "cached": true
}
2025-12-07 01:47:56 [[32minfo[39m]: Europe PMC search started {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "query": "COVID-19 vaccine",
  "max_results": 5
}
2025-12-07 01:47:56 [[32minfo[39m]: Europe PMC search completed {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "query": "COVID-19 vaccine",
  "count": 181592,
  "retrieved": 5,
  "duration": 355,
  "cached": true
}
âœ… PASSED: 10. Cross-Database Deduplication

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š TEST SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Total Tests:  10
âœ… Passed:     9 (90.0%)
âŒ Failed:     1 (10.0%)
â­ï¸  Skipped:    0

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âŒ FAILED TESTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

6. The Lens Search:
  Error: No results returned

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“š DATABASE COVERAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… PubMed               PASSED
âœ… Europe PMC           PASSED
âœ… Semantic Scholar     PASSED
âŒ The Lens             FAILED
âœ… Unpaywall            PASSED

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¯ OVERALL STATUS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âš ï¸  1 test(s) failed. Please check the errors above.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ– tests\test-databases.js (14004.9995ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Duplicate Detection Tool - Comprehensive Test Suite     â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Exact DOI Match ===
âœ… Test 1 passed: Exact DOI match detected

=== Test 2: Exact PMID Match ===
âœ… Test 2 passed: Exact PMID match detected

=== Test 3: High Title Similarity ===
âœ… Test 3 passed: High title similarity detected

=== Test 4: Minor Title Variations ===
âœ… Test 4 passed: Minor variations handled correctly

=== Test 5: Author Overlap Detection ===
âœ… Test 5 passed: Author overlap detected

=== Test 6: Publication Year Tolerance ===
âœ… Test 6 passed: Year tolerance working correctly

=== Test 7: Abstract Similarity ===
âœ… Test 7 passed: Abstract similarity calculated

=== Test 8: Non-Duplicates ===
âœ… Test 8 passed: Non-duplicates correctly identified

=== Test 9: Find Duplicates in List ===
âœ… Test 9 passed: Duplicate list detection working

=== Test 10: Threshold Filtering ===
âœ… Test 10 passed: Threshold filtering working

=== Test 11: Case Insensitivity ===
âœ… Test 11 passed: Case insensitivity working

=== Test 12: Confidence Scoring ===
âœ… Test 12 passed: Confidence scoring appropriate

============================================================
TEST SUMMARY
============================================================
Total tests: 12
Passed: 12 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-duplicate-detection.js (420.6469ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Binary Effect Size Calculation - Test Suite             â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Standard Odds Ratio ===
  âœ“ OR: 0.375
  âœ“ 95% CI: [0.199, 0.706]
  âœ“ Confidence: 70.0%
âœ… Test 1 passed: Standard Odds Ratio

=== Test 2: Standard Risk Ratio ===
  âœ“ RR: 0.500
  âœ“ 95% CI: [0.316, 0.792]
âœ… Test 2 passed: Standard Risk Ratio

=== Test 3: Standard Risk Difference ===
  âœ“ RD: -0.200
  âœ“ 95% CI: [-0.324, -0.076]
âœ… Test 3 passed: Standard Risk Difference

=== Test 4: Zero Cells - Continuity Correction ===
  âœ“ Continuity correction applied: true
  âœ“ OR: 0.038
  âœ“ Confidence: 50.0%
âœ… Test 4 passed: Zero cells handled correctly

=== Test 5: Small Sample Size ===
  âœ“ Total sample: 24
  âœ“ Confidence: 40.0%
  âœ“ Warnings: 2
âœ… Test 5 passed: Small sample size handled

=== Test 6: 100% Event Rate ===
  âœ“ OR: 26.185
âœ… Test 6 passed: 100% event rate handled

=== Test 7: 0% Event Rate ===
  âœ“ OR: 1.000
âœ… Test 7 passed: 0% event rate handled

=== Test 8: Input Validation ===
  âœ“ Negative events rejected
  âœ“ Events > total rejected
  âœ“ Zero total rejected
âœ… Test 8 passed: Input validation works

=== Test 9: Confidence Scoring ===
  âœ“ Large sample confidence: 70.0%
  âœ“ Small sample confidence: 30.0%
âœ… Test 9 passed: Confidence scoring works correctly

=== Test 10: Auto-Select Measure ===
  âœ“ OR measure works
  âœ“ RR measure works
  âœ“ RD measure works
âœ… Test 10 passed: Auto-select measure works

============================================================
TEST SUMMARY
============================================================
Total tests: 10
Passed: 10 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-effect-size-binary.js (381.1046ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Continuous Effect Size Calculation - Test Suite         â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Standard Mean Difference ===
  âœ“ MD: -5.000
  âœ“ 95% CI: [-6.386, -3.614]
  âœ“ Confidence: 70.0%
âœ… Test 1 passed: Standard Mean Difference

=== Test 2: Standard SMD (Hedges' g) ===
  âœ“ SMD (Hedges' g): -0.996
  âœ“ Pooled SD: 5.000
  âœ“ Correction factor: 0.9962
âœ… Test 2 passed: Standard SMD

=== Test 3: Small Sample Hedges' g Correction ===
  âœ“ Small sample correction factor: 0.9577
  âœ“ Large sample correction factor: 0.9962
âœ… Test 3 passed: Small sample correction works

=== Test 4: Unequal Variances ===
  âœ“ Variance ratio: 3.33
  âœ“ Confidence: 60.0%
âœ… Test 4 passed: Unequal variances detected

=== Test 5: Equal Means (Null Effect) ===
  âœ“ MD: 0.000
  âœ“ 95% CI: [-1.386, 1.386]
âœ… Test 5 passed: Equal means (null effect)

=== Test 6: Large Effect Size ===
  âœ“ SMD: -3.985
  âœ“ Effect size interpretation: Very large
âœ… Test 6 passed: Large effect size

=== Test 7: Input Validation ===
  âœ“ Negative SD rejected
  âœ“ Zero SD rejected
  âœ“ Zero sample size rejected
âœ… Test 7 passed: Input validation works

=== Test 8: Confidence Scoring ===
  âœ“ Good data confidence: 70.0%
  âœ“ Poor data confidence: 50.0%
âœ… Test 8 passed: Confidence scoring works

=== Test 9: Pooled SD Calculation ===
  âœ“ Equal SDs pooled SD: 5.000
  âœ“ Unequal SDs pooled SD: 5.099
âœ… Test 9 passed: Pooled SD calculation works

=== Test 10: Auto-Select Measure ===
  âœ“ MD measure works
  âœ“ SMD measure works
âœ… Test 10 passed: Auto-select measure works

============================================================
TEST SUMMARY
============================================================
Total tests: 10
Passed: 10 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-effect-size-continuous.js (428.2007ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Forest Plot Data Generation - Test Suite                â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Basic Forest Plot Generation ===
  âœ“ Studies: 3
  âœ“ Y-axis height: 5
  âœ“ X-axis range: [0.25, 0.85]
âœ… Test 1 passed: Basic forest plot generated

=== Test 2: Log Scale for Ratio Measures ===
  âœ“ OR uses log scale: true
  âœ“ OR null value: 1
  âœ“ MD uses linear scale: true
  âœ“ MD null value: 0
âœ… Test 2 passed: Log scale for ratio measures

=== Test 3: Study Ordering ===
  âœ“ Alphabetical ordering works
  âœ“ Year ordering works
  âœ“ Weight ordering works
âœ… Test 3 passed: Study ordering works

=== Test 4: X-Axis Range Calculation ===
  âœ“ X-axis min: 0.13
  âœ“ X-axis max: 2.17
  âœ“ Tick marks: 4
âœ… Test 4 passed: X-axis range calculated correctly

=== Test 5: Y-Axis Labels ===
  âœ“ Total labels: 4
  âœ“ Has header: true
  âœ“ Has study labels: true
  âœ“ Has pooled label: true
âœ… Test 5 passed: Y-axis labels generated correctly

=== Test 6: Heterogeneity Statistics ===
  âœ“ IÂ²: 45.5%
  âœ“ Ï„Â²: 0.02
âœ… Test 6 passed: Heterogeneity statistics included

=== Test 7: Favors Labels ===
  âœ“ Favors left: Favors intervention
  âœ“ Favors right: Favors control
âœ… Test 7 passed: Favors labels set correctly

=== Test 8: Confidence Scoring ===
  âœ“ Good data confidence: 70.0%
  âœ“ Poor data confidence: 50.0%
âœ… Test 8 passed: Confidence scoring works

============================================================
TEST SUMMARY
============================================================
Total tests: 8
Passed: 8 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-forest-plot-data.js (392.2746ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Forest Plot SVG - Test Suite                            â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Basic SVG Generation ===
2025-12-07 01:47:42 [[32minfo[39m]: Generating forest plot SVG {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 3
}
2025-12-07 01:47:42 [[32minfo[39m]: Forest plot SVG generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 3,
  "width": 800,
  "height": 350
}
  âœ“ SVG generated
  âœ“ Contains XML declaration
  âœ“ Contains SVG tag
  âœ“ SVG properly closed
  âœ“ Total studies: 3
âœ… Test passed: Test 1: Basic SVG Generation

=== Test 2: Study Names Display ===
2025-12-07 01:47:42 [[32minfo[39m]: Generating forest plot SVG {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 2
}
2025-12-07 01:47:42 [[32minfo[39m]: Forest plot SVG generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 2,
  "width": 800,
  "height": 320
}
  âœ“ Contains first study name
  âœ“ Contains second study name
âœ… Test passed: Test 2: Study Names Display

=== Test 3: Pooled Effect Diamond ===
2025-12-07 01:47:42 [[32minfo[39m]: Generating forest plot SVG {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 1
}
2025-12-07 01:47:43 [[32minfo[39m]: Forest plot SVG generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 1,
  "width": 800,
  "height": 290
}
  âœ“ Contains pooled effect label
  âœ“ Contains diamond polygon
  âœ“ Uses pooled diamond class
âœ… Test passed: Test 3: Pooled Effect Diamond

=== Test 4: Heterogeneity Display ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating forest plot SVG {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 1
}
2025-12-07 01:47:43 [[32minfo[39m]: Forest plot SVG generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 1,
  "width": 800,
  "height": 330
}
  âœ“ Contains heterogeneity label
  âœ“ Contains IÂ² value
  âœ“ Contains Ï„Â² value
âœ… Test passed: Test 4: Heterogeneity Display

=== Test 5: Null Effect Line ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating forest plot SVG {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 1
}
2025-12-07 01:47:43 [[32minfo[39m]: Forest plot SVG generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 1,
  "width": 800,
  "height": 290
}
  âœ“ Contains null effect line
  âœ“ Null value for OR: 1
âœ… Test passed: Test 5: Null Effect Line

=== Test 6: Measure Type Configuration ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating forest plot SVG {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 1
}
2025-12-07 01:47:43 [[32minfo[39m]: Forest plot SVG generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 1,
  "width": 800,
  "height": 290
}
2025-12-07 01:47:43 [[32minfo[39m]: Generating forest plot SVG {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 1
}
2025-12-07 01:47:43 [[32minfo[39m]: Forest plot SVG generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 1,
  "width": 800,
  "height": 290
}
  âœ“ OR plot contains OR label
  âœ“ MD plot contains MD label
  âœ“ OR null value is 1
  âœ“ MD null value is 0
âœ… Test passed: Test 6: Measure Type Configuration

=== Test 7: Favors Labels ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating forest plot SVG {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 1
}
2025-12-07 01:47:43 [[32minfo[39m]: Forest plot SVG generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 1,
  "width": 800,
  "height": 290
}
  âœ“ Contains left favors label
  âœ“ Contains right favors label
âœ… Test passed: Test 7: Favors Labels

=== Test 8: Metadata Accuracy ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating forest plot SVG {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 2
}
2025-12-07 01:47:43 [[32minfo[39m]: Forest plot SVG generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 2,
  "width": 800,
  "height": 320
}
  âœ“ Total studies: 2
  âœ“ X min includes all CIs: -5.551115123125783e-17
  âœ“ X max includes all CIs: 2.1
  âœ“ Width: 800
  âœ“ Height: 320
âœ… Test passed: Test 8: Metadata Accuracy

=== Test 9: Custom Dimensions ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating forest plot SVG {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 1
}
2025-12-07 01:47:43 [[32minfo[39m]: Forest plot SVG generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 1,
  "width": 1000,
  "height": 600
}
  âœ“ Custom width: 1000
  âœ“ Custom height: 600
âœ… Test passed: Test 9: Custom Dimensions

=== Test 10: SVG Structure Validation ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating forest plot SVG {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 1
}
2025-12-07 01:47:43 [[32minfo[39m]: Forest plot SVG generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 1,
  "width": 800,
  "height": 290
}
  âœ“ Contains defs section
  âœ“ Contains style section
  âœ“ Uses CSS classes
  âœ“ Contains line elements
  âœ“ Contains rect elements for squares
  âœ“ Contains text elements
âœ… Test passed: Test 10: SVG Structure Validation

============================================================
TEST SUMMARY
============================================================
Total tests: 10
Passed: 10 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-forest-plot-svg.js (486.4371ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Funnel Plot SVG - Test Suite                            â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Basic Funnel Plot Generation ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating funnel plot SVG {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 3
}
2025-12-07 01:47:43 [[32minfo[39m]: Funnel plot SVG generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 3,
  "asymmetry_detected": false
}
  âœ“ SVG generated
  âœ“ Contains XML declaration
  âœ“ Contains SVG tag
  âœ“ SVG properly closed
  âœ“ Total studies: 3
âœ… Test passed: Test 1: Basic Funnel Plot Generation

=== Test 2: Study Points Display ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating funnel plot SVG {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 2
}
2025-12-07 01:47:43 [[32minfo[39m]: Funnel plot SVG generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 2,
  "asymmetry_detected": false
}
  âœ“ Contains circle elements for studies
  âœ“ Uses study-point class
âœ… Test passed: Test 2: Study Points Display

=== Test 3: Funnel Overlay Display ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating funnel plot SVG {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 1
}
2025-12-07 01:47:43 [[32minfo[39m]: Funnel plot SVG generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 1,
  "asymmetry_detected": false
}
  âœ“ Contains funnel lines
  âœ“ Contains center line
âœ… Test passed: Test 3: Funnel Overlay Display

=== Test 4: Axes Display ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating funnel plot SVG {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 1
}
2025-12-07 01:47:43 [[32minfo[39m]: Funnel plot SVG generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 1,
  "asymmetry_detected": false
}
  âœ“ Contains Y-axis label
  âœ“ Contains X-axis label
  âœ“ Contains axis lines
âœ… Test passed: Test 4: Axes Display

=== Test 5: Asymmetry Detection - Symmetric ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating funnel plot SVG {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 4
}
2025-12-07 01:47:43 [[32minfo[39m]: Funnel plot SVG generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 4,
  "asymmetry_detected": false
}
  âœ“ Symmetric distribution detected
  âœ“ Interpretation mentions symmetry
âœ… Test passed: Test 5: Asymmetry Detection - Symmetric

=== Test 6: Asymmetry Detection - Asymmetric ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating funnel plot SVG {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 7
}
2025-12-07 01:47:43 [[32minfo[39m]: Funnel plot SVG generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 7,
  "asymmetry_detected": true
}
  âœ“ Asymmetric distribution detected
  âœ“ Interpretation mentions asymmetry
âœ… Test passed: Test 6: Asymmetry Detection - Asymmetric

=== Test 7: Metadata Accuracy ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating funnel plot SVG {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 2
}
2025-12-07 01:47:43 [[32minfo[39m]: Funnel plot SVG generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 2,
  "asymmetry_detected": false
}
  âœ“ Total studies: 2
  âœ“ X min: 0.3
  âœ“ X max: 1.7
  âœ“ Y min: 0
  âœ“ Y max: 0.32999999999999996
âœ… Test passed: Test 7: Metadata Accuracy

=== Test 8: Interpretation Generation ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating funnel plot SVG {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 2
}
2025-12-07 01:47:43 [[32minfo[39m]: Funnel plot SVG generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 2,
  "asymmetry_detected": false
}
  âœ“ Interpretation generated
  âœ“ Mentions study count
  âœ“ Mentions publication bias
âœ… Test passed: Test 8: Interpretation Generation

============================================================
TEST SUMMARY
============================================================
Total tests: 8
Passed: 8 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-funnel-plot-svg.js (491.9711ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   GRADE Evidence Assessment - Test Suite                  â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: High Quality RCT (No Downgrades) ===
  âœ“ Starting quality: high
  âœ“ Total downgrades: 0
  âœ“ Final quality: high
âœ… Test 1 passed: High quality RCT

=== Test 2: RCT with Serious Risk of Bias ===
  âœ“ Starting quality: high
  âœ“ Downgrades: 1
  âœ“ Final quality: moderate
âœ… Test 2 passed: RCT downgraded for risk of bias

=== Test 3: Multiple Serious Downgrades ===
  âœ“ Total downgrades: 3
  âœ“ Final quality: very_low
âœ… Test 3 passed: Multiple downgrades

=== Test 4: Very Serious Downgrade ===
  âœ“ Total downgrades: 2
  âœ“ Final quality: low
âœ… Test 4 passed: Very serious downgrade

=== Test 5: Observational Study Starting Quality ===
  âœ“ Starting quality: low
  âœ“ Final quality: low
âœ… Test 5 passed: Observational study

=== Test 6: Observational with Large Effect Upgrade ===
  âœ“ Starting quality: low
  âœ“ Upgrades: 2
  âœ“ Final quality: high
âœ… Test 6 passed: Observational upgraded for large effect

=== Test 7: Dose-Response Upgrade ===
  âœ“ Upgrades: 1
  âœ“ Final quality: moderate
âœ… Test 7 passed: Dose-response upgrade

=== Test 8: Strong Recommendation ===
  âœ“ Strength: strong
  âœ“ Rationale: High quality evidence, benefits clearly outweigh h...
âœ… Test 8 passed: Strong recommendation

=== Test 9: Weak Recommendation ===
  âœ“ Strength: weak
  âœ“ Rationale: Weak recommendation due to: low quality evidence, ...
âœ… Test 9 passed: Weak recommendation

=== Test 10: Quality Explanation ===
  âœ“ Explanation: Started at high quality. Downgraded 2 level(s) due to: risk of bias (serious), inconsistency (serious). Final quality: low.
âœ… Test 10 passed: Quality explanation generated

============================================================
TEST SUMMARY
============================================================
Total tests: 10
Passed: 10 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-grade-assessment.js (367.7632ms)
ğŸ§ª Grammar and Style Checking Tool - Test Suite

============================================================

ğŸš€ Starting Grammar and Style Checking Tests...


ğŸ“‹ Test 1: Spelling Error Detection
------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Starting grammar check for 168 characters
2025-12-07 01:47:43 [[32minfo[39m]: Found 3 spelling errors
2025-12-07 01:47:43 [[32minfo[39m]: Found 0 style/grammar issues
2025-12-07 01:47:43 [[32minfo[39m]: Grammar check complete: 3 issues found, score: 85.0%
âœ… Total errors: 3
âœ… Spelling errors: 3
âœ… Grammar score: 85.0%

ğŸ“Š Detected Errors:
   1. "occured" â†’ "occurred" (Spelling error: "occured" should be "occurred")
   2. "definately" â†’ "definitely" (Spelling error: "definately" should be "definitely")
   3. "reccomend" â†’ "recommend" (Spelling error: "reccomend" should be "recommend")

âŒ TEST FAILED: Did not detect all spelling errors

ğŸ“‹ Test 2: Contraction Detection (Academic Style)
------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Starting grammar check for 168 characters
2025-12-07 01:47:43 [[32minfo[39m]: Found 4 style/grammar issues
2025-12-07 01:47:43 [[32minfo[39m]: Grammar check complete: 4 issues found, score: 92.0%
âœ… Total errors: 4
âœ… Style issues: 4

ğŸ“Š Detected Contractions:
   1. "didn't" â†’ "did not"
   2. "can't" â†’ "cannot"
   3. "wasn't" â†’ "was not"
   4. "don't" â†’ "do not"

âœ… TEST PASSED: Correctly detected contractions

ğŸ“‹ Test 3: Informal Language Detection
------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Starting grammar check for 184 characters
2025-12-07 01:47:43 [[32minfo[39m]: Found 4 style/grammar issues
2025-12-07 01:47:43 [[32minfo[39m]: Grammar check complete: 4 issues found, score: 92.0%
âœ… Total errors: 4
âœ… Style issues: 4

ğŸ“Š Detected Informal Language:
   1. "a lot of" â†’ "many" (Avoid informal language in academic writing)
   2. "pretty much" â†’ "approximately" (Avoid informal language in academic writing)
   3. "really" â†’ "" (Avoid informal language in academic writing)
   4. "very" â†’ "" (Avoid informal language in academic writing)

âœ… TEST PASSED: Correctly detected informal language

ğŸ“‹ Test 4: First Person Detection
------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Starting grammar check for 153 characters
2025-12-07 01:47:43 [[32minfo[39m]: Found 1 style/grammar issues
2025-12-07 01:47:43 [[32minfo[39m]: Grammar check complete: 1 issues found, score: 99.0%
âœ… Total errors: 1
âœ… Style suggestions: 1

ğŸ“Š Detected First Person:
   1. "I" â†’ "I"

âš ï¸ TEST WARNING: Expected more first person detections

ğŸ“‹ Test 5: Correction Application
------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Starting grammar check for 68 characters
2025-12-07 01:47:43 [[32minfo[39m]: Found 2 spelling errors
2025-12-07 01:47:43 [[32minfo[39m]: Found 0 style/grammar issues
2025-12-07 01:47:43 [[32minfo[39m]: Grammar check complete: 2 issues found, score: 90.0%
âœ… Original text: "This study occured in 2020. The results were definately significant."
âœ… Corrected text: "This study occurred in 2020. The results were definitely significant."
âœ… Errors corrected: 2

âœ… TEST PASSED: Corrections applied successfully

ğŸ“‹ Test 6: Grammar Score Calculation
------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Starting grammar check for 213 characters
2025-12-07 01:47:43 [[32minfo[39m]: Found 0 spelling errors
2025-12-07 01:47:43 [[32minfo[39m]: Found 4 style/grammar issues
2025-12-07 01:47:43 [[32minfo[39m]: Grammar check complete: 4 issues found, score: 80.0%
2025-12-07 01:47:43 [[32minfo[39m]: Starting grammar check for 157 characters
2025-12-07 01:47:43 [[32minfo[39m]: Found 0 spelling errors
2025-12-07 01:47:43 [[32minfo[39m]: Found 8 style/grammar issues
2025-12-07 01:47:43 [[32minfo[39m]: Grammar check complete: 8 issues found, score: 75.0%
âœ… Clean text score: 80.0%
âœ… Error-prone text score: 75.0%
âœ… Clean text errors: 4
âœ… Error-prone text errors: 8

âœ… TEST PASSED: Grammar score calculated correctly

ğŸ“‹ Test 7: Statistics Calculation
------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Starting grammar check for 148 characters
2025-12-07 01:47:43 [[32minfo[39m]: Found 0 spelling errors
2025-12-07 01:47:43 [[32minfo[39m]: Found 3 style/grammar issues
2025-12-07 01:47:43 [[32minfo[39m]: Grammar check complete: 3 issues found, score: 85.0%
âœ… Word count: 21
âœ… Sentence count: 5
âœ… Avg sentence length: 4.2 words
âœ… Total errors: 3

âœ… TEST PASSED: Statistics calculated correctly

ğŸ“‹ Test 8: Report Generation
------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Starting grammar check for 151 characters
2025-12-07 01:47:43 [[32minfo[39m]: Found 2 spelling errors
2025-12-07 01:47:43 [[32minfo[39m]: Found 5 style/grammar issues
2025-12-07 01:47:43 [[32minfo[39m]: Grammar check complete: 7 issues found, score: 71.0%
âœ… Report generated: 1330 characters
âœ… Contains summary: true
âœ… Contains errors: true

ğŸ“Š Report Preview:
# Grammar and Style Check Report

## Summary

- **Grammar Score**: 71.0%
- **Total Issues**: 7
- **Word Count**: 20
- **Sentence Count**: 3
- **Avg Sentence Length**: 6.7 words

## Issues by Type

- **Spelling**: 2
- **Style**: 2
- **Punctuation**: 3

## Issues by Severity

- âŒ **Error**: 5
- âš ï¸ **Warning**: 2

## âŒ Errors (5)

### 1. PUNCTUATION - Line 2

**Original**: `      `

**Correction**: ` `

**Explanation**: Remove extra spaces

### 2. SPELLING - Line 2

**Original**: `occured`

**Corre...

âœ… TEST PASSED: Report generated successfully

ğŸ“‹ Test 9: Performance Test (Large Text)
------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Starting grammar check for 11650 characters
2025-12-07 01:47:43 [[32minfo[39m]: Found 0 spelling errors
2025-12-07 01:47:43 [[32minfo[39m]: Found 200 style/grammar issues
2025-12-07 01:47:43 [[32minfo[39m]: Grammar check complete: 200 issues found, score: 31.0%
âœ… Text length: 11650 characters
âœ… Word count: 1450
âœ… Processing time: 7ms
âœ… Time per 100 words: 0ms

âœ… TEST PASSED: Performance within acceptable limits

============================================================
ğŸ“Š TEST SUMMARY
============================================================
âŒ Spelling Errors
âœ… Contractions
âœ… Informal Language
âœ… First Person
âœ… Correction Application
âœ… Grammar Score
âœ… Statistics
âœ… Report Generation
âœ… Performance

============================================================
TOTAL: 8/9 tests passed (89%)
============================================================

âš ï¸ SOME TESTS FAILED. Please review the results above.

âœ– tests\test-grammar-checking.js (395.3992ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Heterogeneity Assessment - Test Suite                   â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Low Heterogeneity ===
  âœ“ IÂ²: 0.0%
  âœ“ Interpretation: low
  âœ“ Q p-value: 0.9900
  âœ“ Recommended model: fixed
âœ… Test 1 passed: Low heterogeneity detected correctly

=== Test 2: High Heterogeneity ===
  âœ“ IÂ²: 97.6%
  âœ“ Interpretation: considerable
  âœ“ Ï„Â²: 0.413
  âœ“ Q p-value: 0.0000
  âœ“ Recommended model: random
âœ… Test 2 passed: High heterogeneity detected correctly

=== Test 3: Moderate Heterogeneity ===
  âœ“ IÂ²: 57.1%
  âœ“ Interpretation: substantial
âœ… Test 3 passed: Moderate heterogeneity detected

=== Test 4: Single Study ===
  âœ“ IÂ²: 0.0%
  âœ“ Warnings: 1
âœ… Test 4 passed: Single study handled correctly

=== Test 5: Q Statistic Calculation ===
  âœ“ Q statistic: 2.000
  âœ“ df: 2
  âœ“ Q p-value: 0.3679
âœ… Test 5 passed: Q statistic calculated correctly

=== Test 6: IÂ² Interpretation ===
  âœ“ Low IÂ² interpretation: low
  âœ“ High IÂ² interpretation: considerable
âœ… Test 6 passed: IÂ² interpretation works

=== Test 7: Tau-Squared Calculation ===
  âœ“ Ï„Â²: 0.413
  âœ“ Ï„: 0.643
âœ… Test 7 passed: Tau-squared calculated correctly

=== Test 8: HÂ² Statistic ===
  âœ“ HÂ²: 1.000
âœ… Test 8 passed: HÂ² statistic calculated correctly

=== Test 9: Prediction Interval ===
  âœ“ Prediction interval: [0.456, 0.744]
  âœ“ Pooled effect: 0.600
âœ… Test 9 passed: Prediction interval calculated

=== Test 10: Model Recommendation ===
  âœ“ Low heterogeneity model: fixed
  âœ“ High heterogeneity model: random
âœ… Test 10 passed: Model recommendation works

============================================================
TEST SUMMARY
============================================================
Total tests: 10
Passed: 10 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-heterogeneity.js (394.0557ms)
ğŸ§ª MCP Integration Test: Study Design Classifier

================================================================================

ğŸ“‹ Test 1: Basic Functionality
--------------------------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Efficacy of aspirin in cardiovascular disease: a randomized controlled trial",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Efficacy of aspirin in cardiovascular disease: a randomized controlled trial",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Efficacy of aspirin in cardiovascular disease: a randomized controlled trial",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_parallel",
  "confidence": 0.23147521650098232,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 199
}
2025-12-07 01:47:43 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Randomization mentioned",
  "designs": [
    "rct_parallel",
    "rct_crossover",
    "rct_cluster",
    "rct_factorial"
  ],
  "weight": 9
}
2025-12-07 01:47:43 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Blinding mentioned",
  "designs": [
    "rct_parallel",
    "rct_crossover"
  ],
  "weight": 8
}
2025-12-07 01:47:43 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Placebo control",
  "designs": [
    "rct_parallel"
  ],
  "weight": 8
}
2025-12-07 01:47:43 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Odds ratio / logistic regression",
  "designs": [
    "case_control"
  ],
  "weight": 7
}
2025-12-07 01:47:43 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_parallel",
  "confidence": 0.3865900866003929,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
âœ… Tool executed successfully
   Design: rct_parallel
   Confidence: 38.7%
   Method: hybrid

ğŸ“‹ Test 2: Optional Parameters (MeSH terms)
--------------------------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Meta-analysis of statin trials",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Meta-analysis of statin trials",
  "has_mesh": true,
  "has_pub_type": true
}
2025-12-07 01:47:43 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Meta-analysis of statin trials",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "meta_analysis",
  "confidence": 0.09020691469823457,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Classifying using MeSH terms {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "num_terms": 2,
  "terms": [
    "Meta-Analysis",
    "Randomized Controlled Trials as Topic"
  ]
}
2025-12-07 01:47:43 [[32minfo[39m]: MeSH publication type match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "publication_type": "Meta-Analysis",
  "designs": [
    "meta_analysis"
  ]
}
2025-12-07 01:47:43 [[32minfo[39m]: MeSH term pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "pattern": "Meta-Analysis",
  "design": "meta_analysis"
}
2025-12-07 01:47:43 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 116
}
2025-12-07 01:47:43 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Randomization mentioned",
  "designs": [
    "rct_parallel",
    "rct_crossover",
    "rct_cluster",
    "rct_factorial"
  ],
  "weight": 9
}
2025-12-07 01:47:43 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Relative risk",
  "designs": [
    "cohort_prospective",
    "cohort_retrospective"
  ],
  "weight": 7
}
2025-12-07 01:47:43 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Forest/funnel plot",
  "designs": [
    "meta_analysis"
  ],
  "weight": 10
}
2025-12-07 01:47:43 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "meta_analysis",
  "confidence": 0.8050827658792938,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
âœ… Tool executed with optional parameters
   Design: meta_analysis
   Confidence: 80.5%
   Method: hybrid

ğŸ“‹ Test 3: Minimal Input (Title Only)
--------------------------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Prospective cohort study of smoking and lung cancer",
  "has_abstract": false,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Prospective cohort study of smoking and lung cancer",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Prospective cohort study of smoking and lung cancer",
  "has_abstract": false,
  "has_methods": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "cohort_prospective",
  "confidence": 0.1876945943580654,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 53
}
2025-12-07 01:47:43 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "cohort_prospective",
  "confidence": 0.07507783774322617,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
âœ… Tool executed with minimal input
   Design: cohort_prospective
   Confidence: 7.5%
   Requires Review: true

ğŸ“‹ Test 4: Output Structure Validation
--------------------------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Systematic review of diabetes treatments",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Systematic review of diabetes treatments",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Systematic review of diabetes treatments",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "systematic_review",
  "confidence": 0.22247828851219406,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 103
}
2025-12-07 01:47:43 [[32minfo[39m]: Reporting guideline match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "PRISMA guideline",
  "designs": [
    "systematic_review",
    "meta_analysis"
  ],
  "weight": 10
}
2025-12-07 01:47:43 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "systematic_review",
  "confidence": 0.3139913154048776,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
âœ… Output structure is valid
   All required fields present
   Classification structure correct

ğŸ“‹ Test 5: Error Handling (Missing Title)
--------------------------------------------------------------------------------
2025-12-07 01:47:43 [[31merror[39m]: Error classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "error": "Title is required for study design classification",
  "stack": "Error: Title is required for study design classification\n    at classifyStudyDesign (file:///C:/Users/Admin/Documents/AI-Projects/OpenAgents-main/Project/MedResearch-AI/dist/src/mcp/tools/classify-study-design.js:401:19)\n    at file:///C:/Users/Admin/Documents/AI-Projects/OpenAgents-main/Project/MedResearch-AI/tests/test-mcp-integration.js:137:24"
}
âœ… Error handling works correctly
   Error returned in response

================================================================================
ğŸ“Š INTEGRATION TEST SUMMARY
================================================================================
âœ… All integration tests passed!

Tests Completed:
  1. âœ… Basic functionality
  2. âœ… Optional parameters (MeSH terms)
  3. âœ… Minimal input (title only)
  4. âœ… Output structure validation
  5. âœ… Error handling

ğŸ‰ MCP integration is working correctly!
================================================================================
âœ” tests\test-mcp-integration.js (396.6154ms)
ğŸ§ª MedResearch AI - MCP Tools Test Suite

============================================================


============================================================
ğŸ“‹ Test Summary
============================================================

âœ… All MCP tool validation tests completed

Tests covered:
  1. âœ… Medical Database Tools (PubMed, Europe PMC)
  2. âœ… Unpaywall Tool
  3. âœ… Citation Manager
  4. âœ… R Statistics Tools (Meta-analysis, Forest plots)
  5. âœ… Document Generator
  6. âœ… Response Format Validation
  7. âœ… Data Type Validation
  8. âœ… Error Handling
  9. âœ… Integration Validation

ğŸ‰ All validation logic verified!

Next steps:
  1. Run integration tests with actual APIs (requires network)
  2. Test R integration (requires R installation)
  3. Test document generation (requires pandoc)
  4. Add performance benchmarks
  5. Add security tests (input sanitization)


ğŸ“ Testing Medical Database Tools
------------------------------------------------------------

âœ… Empty query validation works
âœ… max_results validation works
âœ… Valid input accepted
âœ… Europe PMC empty query validation works
âœ… Europe PMC max_results validation works
âœ… Europe PMC valid input accepted

ğŸ“ Testing Unpaywall Tool
------------------------------------------------------------

âœ… Empty identifiers validation works
âœ… Non-array identifiers validation works
âœ… Invalid email validation works
âœ… Unpaywall valid input accepted
âœ… DOI/PMID identification works

ğŸ“ Testing Citation Manager
------------------------------------------------------------

âœ… Action type validation works
âœ… Identifier requirement validation works
âœ… Citation identifier type detection works

ğŸ“ Testing R Statistics Tools
------------------------------------------------------------

âœ… Non-array data validation works
âœ… Minimum studies validation works
âœ… Valid meta-analysis data accepted
âœ… Study data structure validation works
âœ… Meta-analysis result requirement works
âœ… Forest plot result structure validation works

ğŸ“ Testing Document Generator
------------------------------------------------------------

âœ… Template type validation works
âœ… Document generation input validation works
âœ… Metadata structure validation works

ğŸ“ Testing MCP Response Format
------------------------------------------------------------

âœ… Success response format valid
âœ… Error response format valid

ğŸ“ Testing Data Type Validation
------------------------------------------------------------

âœ… DOI format validation works
âœ… PMID format validation works
âœ… Email format validation works
âœ… Numeric range validation works

ğŸ“ Testing Error Handling
------------------------------------------------------------

âœ… Missing field detection works
âœ… Invalid data type detection works
âœ… Meaningful error messages provided

ğŸ“ Testing Integration Validation
------------------------------------------------------------

âœ… PubMed search flow validation works
âœ… Citation verification flow validation works
âœ… Meta-analysis flow validation works
â–¶ PubMed Search - Input Validation
  âœ” should reject empty query (1.6189ms)
  âœ” should reject invalid max_results (0.4793ms)
  âœ” should accept valid query (0.3215ms)
âœ” PubMed Search - Input Validation (4.5392ms)
â–¶ Europe PMC Search - Input Validation
  âœ” should reject empty query (0.4257ms)
  âœ” should reject invalid max_results (0.4216ms)
  âœ” should accept valid parameters (0.3731ms)
âœ” Europe PMC Search - Input Validation (2.1254ms)
â–¶ Unpaywall - Input Validation
  âœ” should reject empty identifiers array (0.4247ms)
  âœ” should reject non-array identifiers (0.3594ms)
  âœ” should reject invalid email (0.2617ms)
  âœ” should accept valid input (0.3219ms)
  âœ” should identify DOI vs PMID (0.4244ms)
âœ” Unpaywall - Input Validation (4.8891ms)
â–¶ Citation Manager - Input Validation
  âœ” should validate action types (0.3793ms)
  âœ” should require identifier for verify action (0.2916ms)
  âœ” should identify DOI vs PMID (0.304ms)
âœ” Citation Manager - Input Validation (1.9691ms)
â–¶ R Statistics - Meta-Analysis Input Validation
  âœ” should reject non-array data (0.2433ms)
  âœ” should reject insufficient studies (0.1895ms)
  âœ” should accept valid meta-analysis data (0.216ms)
  âœ” should validate study data structure (0.203ms)
âœ” R Statistics - Meta-Analysis Input Validation (1.6438ms)
â–¶ R Statistics - Forest Plot Input Validation
  âœ” should require meta-analysis result (0.2096ms)
  âœ” should validate result structure (0.2086ms)
âœ” R Statistics - Forest Plot Input Validation (0.8127ms)
â–¶ Document Generator - Input Validation
  âœ” should validate template types (0.2365ms)
  âœ” should accept markdown content (0.1833ms)
  âœ” should validate metadata structure (0.2349ms)
âœ” Document Generator - Input Validation (1.2673ms)
â–¶ MCP Tool Response Format
  âœ” should validate success response format (0.284ms)
  âœ” should validate error response format (0.3266ms)
âœ” MCP Tool Response Format (1.0924ms)
â–¶ Data Type Validation
  âœ” should validate DOI format (0.2041ms)
  âœ” should validate PMID format (0.1876ms)
  âœ” should validate email format (0.1836ms)
  âœ” should validate numeric ranges (0.2279ms)
âœ” Data Type Validation (1.5386ms)
â–¶ Error Handling
  âœ” should handle missing required fields (0.2124ms)
  âœ” should handle invalid data types (0.1679ms)
  âœ” should provide meaningful error messages (0.1888ms)
âœ” Error Handling (1.1896ms)
â–¶ Integration Validation
  âœ” should validate PubMed search flow (0.2597ms)
  âœ” should validate citation verification flow (0.249ms)
  âœ” should validate meta-analysis flow (0.2442ms)
âœ” Integration Validation (1.424ms)
ğŸ§ª MedResearch AI - Memory System Test

============================================================
ğŸ§¹ Cleaning up previous test...

ğŸ“¦ Step 1: Initialize SQLite Database
------------------------------------------------------------
âœ… Database initialized successfully

ğŸ—ï¸  Step 2: Create Database Schema
------------------------------------------------------------
âœ… Created table: short_term_memory
âœ… Created table: working_memory
âœ… Created table: long_term_memory
âœ… Created table: episodic_memory
âœ… Created table: todo_list
âœ… Created table: phase_progress
âœ… Created table: session_checkpoints
âœ… Created table: citation_registry

ğŸ’¾ Step 3: Test Memory Operations
------------------------------------------------------------
âœ… Short-term memory: Saved 2 conversation messages
âœ… Working memory: Saved 2 phase context items
âœ… Long-term memory: Saved 1 project output
âœ… Episodic memory: Saved 1 decision
âœ… Todo list: Saved 2 tasks
âœ… Phase progress: Saved 1 phase status
âœ… Citation registry: Saved 1 citation

ğŸ” Step 4: Test Data Retrieval
------------------------------------------------------------
âœ… Retrieved 2 conversation messages
âœ… Retrieved 2 working memory items
âœ… Retrieved 1 long-term memory items
âœ… Retrieved 1 decisions
âœ… Retrieved 2 todos
âœ… Retrieved 1 phase statuses
âœ… Retrieved 1 citations

ğŸ’¾ Step 5: Test Checkpoint System
------------------------------------------------------------
âœ… Created checkpoint
âœ… Retrieved checkpoint
   Project: metformin-diabetes
   Phase: search
   Task: Searching databases

ğŸ’¾ Step 6: Save Database to Disk
------------------------------------------------------------
âœ… Database saved to: C:\Users\Admin\Documents\AI-Projects\OpenAgents-main\Project\MedResearch-AI\tests\test-project\.memory\project-memory.db
   File size: 48.00 KB

ğŸ”„ Step 7: Test Database Reload
------------------------------------------------------------
âœ… Closed database
âœ… Reloaded database from disk
âœ… Verified data persisted: 2 messages found

ğŸ“Š Step 8: Database Statistics
------------------------------------------------------------
Short-term memory:  2 items
Working memory:     2 items
Long-term memory:   1 items
Episodic memory:    1 items
Todo list:          2 items
Phase progress:     1 items
Checkpoints:        1 items
Citations:          1 items

============================================================
ğŸ“‹ Test Summary
============================================================

âœ… Passed: 8/8 tests

ğŸ‰ All tests passed! Memory system is working correctly.

Next steps:
  1. Install dependencies: npm install
  2. Continue with agent creation
  3. Build complete system

âœ” tests\test-memory.js (405.9684ms)
node:internal/modules/run_main:107
    triggerUncaughtException(
    ^

Error [ERR_MODULE_NOT_FOUND]: Cannot find module 'C:\Users\Admin\Documents\AI-Projects\OpenAgents-main\Project\MedResearch-AI\tests\dist\src\mcp\tools\r-statistics.js' imported from C:\Users\Admin\Documents\AI-Projects\OpenAgents-main\Project\MedResearch-AI\tests\test-meta-analysis.js
Did you mean to import "../dist/src/mcp/tools/r-statistics.js"?
    at finalizeResolution (node:internal/modules/esm/resolve:274:11)
    at moduleResolve (node:internal/modules/esm/resolve:864:10)
    at defaultResolve (node:internal/modules/esm/resolve:990:11)
    at #cachedDefaultResolve (node:internal/modules/esm/loader:757:20)
    at ModuleLoader.resolve (node:internal/modules/esm/loader:734:38)
    at ModuleLoader.getModuleJobForImport (node:internal/modules/esm/loader:317:38)
    at #link (node:internal/modules/esm/module_job:208:49) {
  code: 'ERR_MODULE_NOT_FOUND',
  url: 'file:///C:/Users/Admin/Documents/AI-Projects/OpenAgents-main/Project/MedResearch-AI/tests/dist/src/mcp/tools/r-statistics.js'
}

Node.js v24.11.0
âœ– tests\test-meta-analysis.js (169.0975ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   ML Study Design Classifier - Test Suite                 â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: RCT with High Confidence ===
2025-12-07 01:47:43 [[32minfo[39m]: Initializing ML classifier with pre-trained model
  âœ“ Primary design: rct_parallel
  âœ“ Confidence >= 60%: 64.7%
  âœ“ Top features identified
  âœ“ Model version correct
  âœ“ Training accuracy >= 90%
âœ… Test passed: Test 1: RCT with High Confidence

=== Test 2: Systematic Review Classification ===
2025-12-07 01:47:43 [[32minfo[39m]: Initializing ML classifier with pre-trained model
  âœ“ Primary design: systematic_review
  âœ“ Confidence >= 60%: 63.8%
  âœ“ Alternatives provided
âœ… Test passed: Test 2: Systematic Review Classification

=== Test 3: Cohort Study Classification ===
2025-12-07 01:47:43 [[32minfo[39m]: Initializing ML classifier with pre-trained model
  âœ“ Primary design: cohort_prospective
  âœ“ Confidence >= 60%: 78.7%
  âœ“ Cohort-related features detected
âœ… Test passed: Test 3: Cohort Study Classification

=== Test 4: Case-Control Study Classification ===
2025-12-07 01:47:43 [[32minfo[39m]: Initializing ML classifier with pre-trained model
  âœ“ Primary design: case_control
  âœ“ Confidence >= 60%: 81.0%
  âœ“ Case-control features detected
âœ… Test passed: Test 4: Case-Control Study Classification

=== Test 5: Meta-Analysis Classification ===
2025-12-07 01:47:43 [[32minfo[39m]: Initializing ML classifier with pre-trained model
  âœ“ Primary design: meta_analysis
  âœ“ Confidence >= 40%: 41.4%
  âœ“ Meta-analysis features detected
âœ… Test passed: Test 5: Meta-Analysis Classification

=== Test 6: Confidence Scoring Range ===
2025-12-07 01:47:43 [[32minfo[39m]: Initializing ML classifier with pre-trained model
  âœ“ Confidence in valid range: 82.0%
  âœ“ Manual review flag set
âœ… Test passed: Test 6: Confidence Scoring Range

=== Test 7: Alternative Classifications Provided ===
2025-12-07 01:47:43 [[32minfo[39m]: Initializing ML classifier with pre-trained model
  âœ“ Alternatives: 3
  âœ“ All alternative confidences valid
  âœ“ Alternatives sorted by confidence
  âœ“ Alternatives sorted by confidence
âœ… Test passed: Test 7: Alternative Classifications Provided

=== Test 8: Top Features Extraction ===
2025-12-07 01:47:43 [[32minfo[39m]: Initializing ML classifier with pre-trained model
  âœ“ Top features: 4
  âœ“ All feature weights valid
  âœ“ All features have names
  Top features: randomized, controlled_trial, allocation, trial
âœ… Test passed: Test 8: Top Features Extraction

=== Test 9: Interpretation Generation ===
2025-12-07 01:47:43 [[32minfo[39m]: Initializing ML classifier with pre-trained model
  âœ“ Interpretation generated
  âœ“ Interpretation mentions confidence
  âœ“ Interpretation is detailed
  Interpretation: ML classifier identified this as a Systematic Review with moderate confidence (61.9%). Key features:...
âœ… Test passed: Test 9: Interpretation Generation

=== Test 10: Warnings for Low Confidence ===
2025-12-07 01:47:43 [[32minfo[39m]: Initializing ML classifier with pre-trained model
  âœ“ Warnings is array
  Warnings: 0
âœ… Test passed: Test 10: Warnings for Low Confidence

=== Test 11: MeSH Terms Boost Confidence ===
2025-12-07 01:47:43 [[32minfo[39m]: Initializing ML classifier with pre-trained model
2025-12-07 01:47:43 [[32minfo[39m]: Initializing ML classifier with pre-trained model
  âœ“ MeSH terms improve or maintain confidence
  Without MeSH: 69.7%
  With MeSH: 69.7%
âœ… Test passed: Test 11: MeSH Terms Boost Confidence

=== Test 12: Publication Type Integration ===
2025-12-07 01:47:43 [[32minfo[39m]: Initializing ML classifier with pre-trained model
  âœ“ Publication type influences classification: meta_analysis
  Design: meta_analysis
  Confidence: 48.6%
âœ… Test passed: Test 12: Publication Type Integration

=== Test 13: Model Metadata Present ===
2025-12-07 01:47:43 [[32minfo[39m]: Initializing ML classifier with pre-trained model
  âœ“ Model version: 1.0.0
  âœ“ Training accuracy: 92.3%
  âœ“ Training accuracy <= 100%
âœ… Test passed: Test 13: Model Metadata Present

=== Test 14: Edge Case - Minimal Text ===
2025-12-07 01:47:43 [[32minfo[39m]: Initializing ML classifier with pre-trained model
  âœ“ Classification provided
  âœ“ Manual review required for minimal text
  âœ“ Warnings generated
âœ… Test passed: Test 14: Edge Case - Minimal Text

=== Test 15: Target Accuracy Check ===
2025-12-07 01:47:43 [[32minfo[39m]: Initializing ML classifier with pre-trained model
2025-12-07 01:47:43 [[32minfo[39m]: Initializing ML classifier with pre-trained model
2025-12-07 01:47:43 [[32minfo[39m]: Initializing ML classifier with pre-trained model
2025-12-07 01:47:43 [[32minfo[39m]: Initializing ML classifier with pre-trained model
2025-12-07 01:47:43 [[32minfo[39m]: Initializing ML classifier with pre-trained model
  Accuracy on test set: 100.0% (5/5)
  âœ“ Accuracy >= 80% on test set
âœ… Test passed: Test 15: Target Accuracy Check

============================================================
TEST SUMMARY
============================================================
Total tests: 15
Passed: 15 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-ml-classifier.js (393.6503ms)
ğŸ§ª ML-Based Citation Screening Tool - Test Suite

============================================================

ğŸš€ Starting ML-Based Citation Screening Tests...


ğŸ“‹ Test 1: Basic Screening with Clear Criteria
------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Starting ML-based screening for 8 citations
2025-12-07 01:47:43 [[32minfo[39m]: Inclusion criteria: 16 key terms
2025-12-07 01:47:43 [[32minfo[39m]: Calculated IDF for 139 unique terms
2025-12-07 01:47:43 [[32minfo[39m]: ML screening complete: 0 relevant, 0 uncertain, 8 irrelevant
2025-12-07 01:47:43 [[32minfo[39m]: Estimated time saved: 0.3 hours
âœ… Total citations: 8
âœ… Likely relevant: 0
âœ… Uncertain: 0
âœ… Likely irrelevant: 8
âœ… Time saved: 0.3 hours
âœ… Processing time: 7ms

ğŸ“Š Top 3 Most Relevant Citations:

   1. C001: Efficacy of metformin in type 2 diabetes: a randomized contr...
      Score: 32.1%
      Recommendation: likely_irrelevant
      Matched terms: metformin, type, diabetes, randomized, controlled

   2. C002: Sulfonylureas versus metformin for glycemic control in type ...
      Score: 14.9%
      Recommendation: likely_irrelevant
      Matched terms: sulfonylureas, metformin, glycemic, control, type

   3. C006: Metformin and sulfonylurea combination therapy in type 2 dia...
      Score: 14.9%
      Recommendation: likely_irrelevant
      Matched terms: metformin, type, diabetes, sulfonylureas, glycemic

âŒ TEST FAILED: Did not correctly identify relevant citations

ğŸ“‹ Test 2: Screening with Narrow Criteria
------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Starting ML-based screening for 8 citations
2025-12-07 01:47:43 [[32minfo[39m]: Inclusion criteria: 9 key terms
2025-12-07 01:47:43 [[32minfo[39m]: Calculated IDF for 141 unique terms
2025-12-07 01:47:43 [[32minfo[39m]: ML screening complete: 0 relevant, 0 uncertain, 8 irrelevant
2025-12-07 01:47:43 [[32minfo[39m]: Estimated time saved: 0.3 hours
âœ… Total citations: 8
âœ… Likely relevant: 0
âœ… Likely irrelevant: 8

ğŸ“Š Most Relevant Citation:
   C003: Cardiovascular outcomes with metformin in diabetes patients...
   Score: 36.4%

âœ… TEST PASSED: Correctly identified most relevant citation

ğŸ“‹ Test 3: Screening with Unrelated Criteria
------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Starting ML-based screening for 8 citations
2025-12-07 01:47:43 [[32minfo[39m]: Inclusion criteria: 7 key terms
2025-12-07 01:47:43 [[32minfo[39m]: Calculated IDF for 143 unique terms
2025-12-07 01:47:43 [[32minfo[39m]: ML screening complete: 0 relevant, 0 uncertain, 8 irrelevant
2025-12-07 01:47:43 [[32minfo[39m]: Estimated time saved: 0.3 hours
âœ… Total citations: 8
âœ… Likely relevant: 0
âœ… Likely irrelevant: 8

âœ… TEST PASSED: Correctly identified unrelated citations as irrelevant

ğŸ“‹ Test 4: Testing Different Thresholds
------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Starting ML-based screening for 8 citations
2025-12-07 01:47:43 [[32minfo[39m]: Inclusion criteria: 6 key terms
2025-12-07 01:47:43 [[32minfo[39m]: Calculated IDF for 138 unique terms
2025-12-07 01:47:43 [[32minfo[39m]: ML screening complete: 0 relevant, 0 uncertain, 8 irrelevant
2025-12-07 01:47:43 [[32minfo[39m]: Estimated time saved: 0.3 hours

   Threshold 0.5:
   - Likely relevant: 0
   - Uncertain: 0
   - Likely irrelevant: 8
2025-12-07 01:47:43 [[32minfo[39m]: Starting ML-based screening for 8 citations
2025-12-07 01:47:43 [[32minfo[39m]: Inclusion criteria: 6 key terms
2025-12-07 01:47:43 [[32minfo[39m]: Calculated IDF for 138 unique terms
2025-12-07 01:47:43 [[32minfo[39m]: ML screening complete: 0 relevant, 0 uncertain, 8 irrelevant
2025-12-07 01:47:43 [[32minfo[39m]: Estimated time saved: 0.3 hours

   Threshold 0.7:
   - Likely relevant: 0
   - Uncertain: 0
   - Likely irrelevant: 8
2025-12-07 01:47:43 [[32minfo[39m]: Starting ML-based screening for 8 citations
2025-12-07 01:47:43 [[32minfo[39m]: Inclusion criteria: 6 key terms
2025-12-07 01:47:43 [[32minfo[39m]: Calculated IDF for 138 unique terms
2025-12-07 01:47:43 [[32minfo[39m]: ML screening complete: 0 relevant, 0 uncertain, 8 irrelevant
2025-12-07 01:47:43 [[32minfo[39m]: Estimated time saved: 0.3 hours

   Threshold 0.9:
   - Likely relevant: 0
   - Uncertain: 0
   - Likely irrelevant: 8

âœ… TEST PASSED: Threshold correctly affects relevance classification

ğŸ“‹ Test 5: Performance Test (100 citations)
------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Starting ML-based screening for 100 citations
2025-12-07 01:47:43 [[32minfo[39m]: Inclusion criteria: 10 key terms
2025-12-07 01:47:43 [[32minfo[39m]: Calculated IDF for 139 unique terms
2025-12-07 01:47:43 [[32minfo[39m]: Screened 100/100 citations
2025-12-07 01:47:43 [[32minfo[39m]: ML screening complete: 0 relevant, 0 uncertain, 100 irrelevant
2025-12-07 01:47:43 [[32minfo[39m]: Estimated time saved: 3.3 hours
âœ… Total citations: 100
âœ… Processing time: 8ms
âœ… Average time per citation: 0ms
âœ… Time saved: 3.3 hours

âœ… TEST PASSED: Performance within acceptable limits

ğŸ“‹ Test 6: Testing Recommendations Generation
------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Starting ML-based screening for 8 citations
2025-12-07 01:47:43 [[32minfo[39m]: Inclusion criteria: 6 key terms
2025-12-07 01:47:43 [[32minfo[39m]: Calculated IDF for 138 unique terms
2025-12-07 01:47:43 [[32minfo[39m]: ML screening complete: 0 relevant, 0 uncertain, 8 irrelevant
2025-12-07 01:47:43 [[32minfo[39m]: Estimated time saved: 0.3 hours
âœ… Generated 4 recommendations:
   1. No citations met the relevance threshold of 70%
   2. Consider lowering the threshold or revising inclusion criteria
   3. Consider skipping 8 likely irrelevant citations (low priority)
   4. Estimated time saved: 0.3 hours

âŒ TEST FAILED: Missing expected recommendations

============================================================
ğŸ“Š TEST SUMMARY
============================================================
âŒ Basic Screening
âœ… Narrow Criteria
âœ… Unrelated Criteria
âœ… Different Thresholds
âœ… Performance
âŒ Recommendations

============================================================
TOTAL: 4/6 tests passed (67%)
============================================================

âš ï¸ SOME TESTS FAILED. Please review the results above.

âœ– tests\test-ml-screening.js (477.3719ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Network Consistency Assessment - Test Suite             â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Consistent Triangle ===
  âœ“ Loops detected: 1
  âœ“ Inconsistency detected: false
  âœ“ Severity: none
âœ… Test 1 passed: Consistent triangle

=== Test 2: Inconsistent Triangle ===
  âœ“ Inconsistency factor: -0.700
  âœ“ P-value: 0.0001
  âœ“ Severity: severe
âœ… Test 2 passed: Inconsistent triangle detected

=== Test 3: No Loops (Star Network) ===
  âœ“ Loops: 0
  âœ“ Warnings: 1
âœ… Test 3 passed: No loops detected

=== Test 4: Multiple Loops ===
  âœ“ Loops detected: 4
âœ… Test 4 passed: Multiple loops detected

=== Test 5: Global Inconsistency Test ===
  âœ“ Chi-square: 0.000
  âœ“ df: 1
  âœ“ P-value: 1.0000
âœ… Test 5 passed: Global inconsistency test

=== Test 6: Node-Splitting ===
  âœ“ Node-splits: 3
âœ… Test 6 passed: Node-splitting performed

=== Test 7: Severity Levels ===
  âœ“ Severity: none
âœ… Test 7 passed: Severity levels assigned

=== Test 8: Recommendations ===
  âœ“ Recommendations: 4
âœ… Test 8 passed: Recommendations generated

============================================================
TEST SUMMARY
============================================================
Total tests: 8
Passed: 8 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-network-consistency.js (411.3927ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Network Geometry Assessment - Test Suite                â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Simple Connected Network ===
  âœ“ Treatments: 3
  âœ“ Studies: 3
  âœ“ Connected: true
  âœ“ Edges: 3
âœ… Test 1 passed: Simple connected network

=== Test 2: Star-Shaped Network ===
  âœ“ Star-shaped: true
  âœ“ Central treatment: Placebo
  âœ“ Issue flagged: true
âœ… Test 2 passed: Star-shaped network detected

=== Test 3: Disconnected Network ===
  âœ“ Connected: false
  âœ“ Components: 2
  âœ“ Issue flagged: true
âœ… Test 3 passed: Disconnected network detected

=== Test 4: Multi-Arm Trial ===
  âœ“ Multi-arm trials: 1
  âœ“ Arms: 3
  âœ“ Treatments: A, B, C
âœ… Test 4 passed: Multi-arm trial detected

=== Test 5: Treatment Nodes ===
  âœ“ Nodes: 3
  âœ“ Node A studies: 2
  âœ“ Node A comparisons: 2
  âœ“ Node A participants: 110
âœ… Test 5 passed: Treatment nodes calculated correctly

=== Test 6: Network Edges ===
  âœ“ Edges: 2
  âœ“ A-B studies: 2
  âœ“ A-B participants: 220
âœ… Test 6 passed: Network edges calculated correctly

=== Test 7: Network Completeness ===
  âœ“ Complete network completeness: 1
  âœ“ Incomplete network completeness: 0.67
âœ… Test 7 passed: Network completeness calculated

=== Test 8: Isolated Treatments ===
  âœ“ Isolated treatments: 3
  âœ“ Treatments: B, C, D
âœ… Test 8 passed: Isolated treatments detected

=== Test 9: Average Connections ===
  âœ“ Average connections: 2
âœ… Test 9 passed: Average connections calculated

=== Test 10: Recommendations ===
  âœ“ Disconnected recommendations: 3
  âœ“ Star-shaped recommendations: 3
âœ… Test 10 passed: Recommendations generated

============================================================
TEST SUMMARY
============================================================
Total tests: 10
Passed: 10 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-network-geometry.js (399.0268ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Outcome Extraction with NER - Test Suite                â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Primary Outcome Extraction ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracting outcomes using NER {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_id": "RCT-001"
}
2025-12-07 01:47:43 [[32minfo[39m]: Outcome extraction complete {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_id": "RCT-001",
  "total_outcomes": 2,
  "confidence": 0.85,
  "requires_review": false
}
  âœ“ Primary outcomes found: 2
  âœ“ Has primary outcome flag set
  âœ“ Primary outcome text contains 'primary': primary outcome was change in HbA1c from baseline ...
  âœ“ Overall confidence >= 50%: 85.0%
âœ… Test passed: Test 1: Primary Outcome Extraction

=== Test 2: Secondary Outcome Extraction ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracting outcomes using NER {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_id": "RCT-002"
}
2025-12-07 01:47:43 [[32minfo[39m]: Outcome extraction complete {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_id": "RCT-002",
  "total_outcomes": 4,
  "confidence": 0.85,
  "requires_review": false
}
  âœ“ Secondary outcomes found: 2
  âœ“ Primary outcomes found: 1
  âœ“ Total outcomes >= 2: 4
âœ… Test passed: Test 2: Secondary Outcome Extraction

=== Test 3: Safety Outcome Detection ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracting outcomes using NER {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_id": "RCT-003"
}
2025-12-07 01:47:43 [[32minfo[39m]: Outcome extraction complete {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_id": "RCT-003",
  "total_outcomes": 8,
  "confidence": 0.4,
  "requires_review": true
}
  âœ“ Safety outcomes found: 8
  âœ“ Safety outcome contains relevant keywords: adverse events, serious adverse events, and treatm...
âœ… Test passed: Test 3: Safety Outcome Detection

=== Test 4: Efficacy Outcome Detection ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracting outcomes using NER {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_id": "RCT-004"
}
2025-12-07 01:47:43 [[32minfo[39m]: Outcome extraction complete {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_id": "RCT-004",
  "total_outcomes": 6,
  "confidence": 0.44999999999999996,
  "requires_review": true
}
  âœ“ Efficacy outcomes found: 6
  âœ“ Efficacy outcome contains relevant keywords
âœ… Test passed: Test 4: Efficacy Outcome Detection

=== Test 5: Measurement Tool Identification ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracting outcomes using NER {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_id": "RCT-005"
}
2025-12-07 01:47:43 [[32minfo[39m]: Outcome extraction complete {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_id": "RCT-005",
  "total_outcomes": 0,
  "confidence": 0.5499999999999999,
  "requires_review": true
}
  âœ“ Measurement tools found: 8
  âœ“ Has measurement tools flag set
  âœ“ Valid measurement tools detected: measured using, assessed with, evaluated using, scale, SF-36, PHQ-9, GAD-7, HAM-D
âœ… Test passed: Test 5: Measurement Tool Identification

=== Test 6: Time Point Extraction ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracting outcomes using NER {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_id": "RCT-006"
}
2025-12-07 01:47:43 [[32minfo[39m]: Outcome extraction complete {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_id": "RCT-006",
  "total_outcomes": 2,
  "confidence": 0.8475,
  "requires_review": false
}
  âœ“ Time points found: 5
  âœ“ Has time points flag set
  âœ“ Valid time points detected: at 12 weeks, baseline, Follow-up, end of treatment, at 4 and 12 weeks
âœ… Test passed: Test 6: Time Point Extraction

=== Test 7: Multiple Outcomes with Complete Data ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracting outcomes using NER {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_id": "RCT-007"
}
2025-12-07 01:47:43 [[32minfo[39m]: Outcome extraction complete {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_id": "RCT-007",
  "total_outcomes": 4,
  "confidence": 0.85,
  "requires_review": false
}
  âœ“ Total outcomes >= 3: 4
  âœ“ Has primary outcomes: 1
  âœ“ Has secondary outcomes: 1
  âœ“ Has measurement tools: 3
  âœ“ Has time points: 2
  âœ“ High confidence due to complete data: 85.0%
âœ… Test passed: Test 7: Multiple Outcomes with Complete Data

=== Test 8: Incomplete Outcome Data (Low Confidence) ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracting outcomes using NER {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_id": "RCT-008"
}
2025-12-07 01:47:43 [[32minfo[39m]: Outcome extraction complete {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_id": "RCT-008",
  "total_outcomes": 0,
  "confidence": 0.3,
  "requires_review": true
}
  âœ“ Outcomes extracted: 0
  âœ“ Low confidence due to incomplete data: 30.0%
  âœ“ Requires review flag set for incomplete data
  âœ“ Warnings generated: 2
âœ… Test passed: Test 8: Incomplete Outcome Data (Low Confidence)

=== Test 9: Outcome-Measurement Linking ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracting outcomes using NER {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_id": "RCT-009"
}
2025-12-07 01:47:43 [[32minfo[39m]: Outcome extraction complete {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_id": "RCT-009",
  "total_outcomes": 2,
  "confidence": 0.85,
  "requires_review": false
}
  âœ“ Primary outcomes found: 1
  âœ“ Primary outcomes with measurement tools: 1
  âœ“ Primary outcomes with time points: 1
âœ… Test passed: Test 9: Outcome-Measurement Linking

=== Test 10: Recommendations and Warnings Generation ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracting outcomes using NER {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_id": "RCT-010a"
}
2025-12-07 01:47:43 [[32minfo[39m]: Outcome extraction complete {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_id": "RCT-010a",
  "total_outcomes": 0,
  "confidence": 0.3,
  "requires_review": true
}
  âœ“ Recommendations generated: 3
2025-12-07 01:47:43 [[32minfo[39m]: Extracting outcomes using NER {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_id": "RCT-010b"
}
2025-12-07 01:47:43 [[32minfo[39m]: Outcome extraction complete {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_id": "RCT-010b",
  "total_outcomes": 1,
  "confidence": 0.4,
  "requires_review": true
}
  âœ“ Warnings or recommendations for missing primary outcome: 5
  âœ“ Warning/recommendation about missing primary outcome
âœ… Test passed: Test 10: Recommendations and Warnings Generation

============================================================
TEST SUMMARY
============================================================
Total tests: 10
Passed: 10 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-outcome-ner.js (437.4053ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   PDF Report Generation - Test Suite                      â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Basic Report Generation ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating PDF report {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "section_count": 2
}
2025-12-07 01:47:43 [[32minfo[39m]: PDF report generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_sections": 2,
  "total_pages": 1,
  "word_count": 50
}
  âœ“ Report generated
  âœ“ Contains title
  âœ“ Contains first author
  âœ“ Contains second author
  âœ“ Total sections: 2
âœ… Test passed: Test 1: Basic Report Generation

=== Test 2: Table of Contents Generation ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating PDF report {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "section_count": 3
}
2025-12-07 01:47:43 [[32minfo[39m]: PDF report generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_sections": 3,
  "total_pages": 1,
  "word_count": 49
}
  âœ“ Contains TOC
  âœ“ TOC lists Abstract
  âœ“ TOC lists Methods
  âœ“ TOC lists Results
âœ… Test passed: Test 2: Table of Contents Generation

=== Test 3: Section Numbering ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating PDF report {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "section_count": 2
}
2025-12-07 01:47:43 [[32minfo[39m]: PDF report generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_sections": 2,
  "total_pages": 1,
  "word_count": 46
}
  âœ“ First section numbered
  âœ“ Second section numbered
âœ… Test passed: Test 3: Section Numbering

=== Test 4: Metadata Display ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating PDF report {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "section_count": 1
}
2025-12-07 01:47:43 [[32minfo[39m]: PDF report generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_sections": 1,
  "total_pages": 1,
  "word_count": 42
}
  âœ“ Contains all authors
  âœ“ Contains date
  âœ“ Contains version
  âœ“ Contains protocol registration
âœ… Test passed: Test 4: Metadata Display

=== Test 5: Word Count Calculation ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating PDF report {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "section_count": 1
}
2025-12-07 01:47:43 [[32minfo[39m]: PDF report generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_sections": 1,
  "total_pages": 1,
  "word_count": 40
}
  âœ“ Word count: 40
âœ… Test passed: Test 5: Word Count Calculation

=== Test 6: Page Count Estimation ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating PDF report {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "section_count": 1
}
2025-12-07 01:47:43 [[32minfo[39m]: PDF report generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_sections": 1,
  "total_pages": 1,
  "word_count": 33
}
  âœ“ Estimated pages: 1
âœ… Test passed: Test 6: Page Count Estimation

=== Test 7: Section List Generation ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating PDF report {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "section_count": 3
}
2025-12-07 01:47:43 [[32minfo[39m]: PDF report generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_sections": 3,
  "total_pages": 1,
  "word_count": 44
}
  âœ“ Section count: 3
  âœ“ Sections include Abstract
  âœ“ Sections include Methods
  âœ“ Sections include Results
âœ… Test passed: Test 7: Section List Generation

=== Test 8: Standard Systematic Review Report ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating PDF report {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "section_count": 4
}
2025-12-07 01:47:43 [[32minfo[39m]: PDF report generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_sections": 4,
  "total_pages": 3,
  "word_count": 130
}
  âœ“ Contains Abstract section
  âœ“ Contains Methods section
  âœ“ Contains Results section
  âœ“ Contains Discussion section
  âœ“ Standard sections: 4
âœ… Test passed: Test 8: Standard Systematic Review Report

=== Test 9: Additional Sections Support ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating PDF report {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "section_count": 6
}
2025-12-07 01:47:43 [[32minfo[39m]: PDF report generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_sections": 6,
  "total_pages": 3,
  "word_count": 130
}
  âœ“ Total with additional: 6
  âœ“ Contains additional section
  âœ“ Contains references section
âœ… Test passed: Test 9: Additional Sections Support

=== Test 10: Footer Generation ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating PDF report {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "section_count": 1
}
2025-12-07 01:47:43 [[32minfo[39m]: PDF report generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_sections": 1,
  "total_pages": 1,
  "word_count": 32
}
  âœ“ Contains generator info
  âœ“ Contains version in footer
âœ… Test passed: Test 10: Footer Generation

============================================================
TEST SUMMARY
============================================================
Total tests: 10
Passed: 10 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-pdf-report.js (394.436ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘      Phase 3 Integration Test Suite                       â•‘
â•‘      Version: 6.0.0-beta                                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Complete RCT Workflow ===
  Step 1: Classifying study design...
2025-12-07 01:47:43 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Effect of Aspirin on Cardiovascular Events in Diabetic Patients: A Randomized Controlled Trial",
  "has_abstract": true,
  "has_methods": true,
  "has_full_text": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Effect of Aspirin on Cardiovascular Events in Diabetic Patients: A Randomized Controlled Trial",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Effect of Aspirin on Cardiovascular Events in Diabetic Patients: A Randomized Controlled Trial",
  "has_abstract": true,
  "has_methods": true
}
2025-12-07 01:47:43 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_parallel",
  "confidence": 0.3211728458825059,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 917
}
2025-12-07 01:47:43 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Randomization mentioned",
  "designs": [
    "rct_parallel",
    "rct_crossover",
    "rct_cluster",
    "rct_factorial"
  ],
  "weight": 9
}
2025-12-07 01:47:43 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Blinding mentioned",
  "designs": [
    "rct_parallel",
    "rct_crossover"
  ],
  "weight": 8
}
2025-12-07 01:47:43 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Placebo control",
  "designs": [
    "rct_parallel"
  ],
  "weight": 8
}
2025-12-07 01:47:43 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Odds ratio / logistic regression",
  "designs": [
    "case_control"
  ],
  "weight": 7
}
2025-12-07 01:47:43 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_parallel",
  "confidence": 0.42246913835300237,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
    âœ“ Classified as RCT with 42.2% confidence
  Step 2: Assessing quality with RoB 2.0...
2025-12-07 01:47:43 [[32minfo[39m]: Assessing RCT quality using RoB 2.0 {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "RCT-WORKFLOW-001",
  "design": "rct_parallel",
  "has_full_text": false
}
2025-12-07 01:47:43 [[32minfo[39m]: RoB 2.0 assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "RCT-WORKFLOW-001",
  "overall_risk": "some_concerns",
  "confidence": 0.45833333333333326,
  "requires_review": true
}
    âœ“ Quality assessed as some_concerns risk of bias
  Step 3: Extracting data with NLP...
2025-12-07 01:47:43 [[32minfo[39m]: Extracting data using NLP {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "RCT-WORKFLOW-001",
  "design": "rct_parallel"
}
2025-12-07 01:47:43 [[32minfo[39m]: Data extraction complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "RCT-WORKFLOW-001",
  "confidence": 0.74,
  "requires_review": false
}
    âœ“ Data extracted with 74.0% confidence
  Step 4: Checking for duplicates...
    âœ“ Duplicate detection working (100% match for identical study)
âœ… Test 1 passed: Complete RCT workflow successful

=== Test 2: Poor Quality Study Workflow ===
2025-12-07 01:47:43 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "A Study of Treatment X",
  "has_abstract": true,
  "has_methods": true,
  "has_full_text": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "A Study of Treatment X",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "A Study of Treatment X",
  "has_abstract": true,
  "has_methods": true
}
2025-12-07 01:47:43 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_parallel",
  "confidence": 0.039165722796764356,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 113
}
2025-12-07 01:47:43 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_parallel",
  "confidence": 0.015666289118705743,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
  âœ“ Classification confidence: 1.6%
2025-12-07 01:47:43 [[32minfo[39m]: Extracting data using NLP {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "POOR-QUALITY-001",
  "design": "rct_parallel"
}
2025-12-07 01:47:43 [[32minfo[39m]: Data extraction complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "POOR-QUALITY-001",
  "confidence": 0.36,
  "requires_review": true
}
  âœ“ Flagged for manual review: Low confidence in automated extraction (<60%)
âœ… Test 2 passed: Poor quality study correctly flagged

=== Test 3: Multiple Studies Duplicate Detection ===
  âœ“ Found 3 potential duplicate pairs
  âœ“ Exact duplicate detected with 100% similarity
âœ… Test 3 passed: Multiple studies duplicate detection working

=== Test 4: Cross-Tool Data Consistency ===
2025-12-07 01:47:43 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Laparoscopic Surgery for Appendicitis: A Randomized Trial",
  "has_abstract": true,
  "has_methods": true,
  "has_full_text": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Laparoscopic Surgery for Appendicitis: A Randomized Trial",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Laparoscopic Surgery for Appendicitis: A Randomized Trial",
  "has_abstract": true,
  "has_methods": true
}
2025-12-07 01:47:43 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_parallel",
  "confidence": 0.07210208832026888,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 181
}
2025-12-07 01:47:43 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Randomization mentioned",
  "designs": [
    "rct_parallel",
    "rct_crossover",
    "rct_cluster",
    "rct_factorial"
  ],
  "weight": 9
}
2025-12-07 01:47:43 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Odds ratio / logistic regression",
  "designs": [
    "case_control"
  ],
  "weight": 7
}
2025-12-07 01:47:43 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_parallel",
  "confidence": 0.24634083532810755,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
2025-12-07 01:47:43 [[32minfo[39m]: Extracting data using NLP {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "CONSISTENCY-001",
  "design": "rct_parallel"
}
2025-12-07 01:47:43 [[32minfo[39m]: Data extraction complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "CONSISTENCY-001",
  "confidence": 0.4,
  "requires_review": true
}
  âœ“ Study design consistent across tools: rct_parallel
  âœ“ Intervention type correctly detected: surgical
âœ… Test 4 passed: Cross-tool data consistency verified

=== Test 5: Performance Test ===
2025-12-07 01:47:43 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Clinical Trial of Drug X",
  "has_abstract": true,
  "has_methods": true,
  "has_full_text": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Clinical Trial of Drug X",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Clinical Trial of Drug X",
  "has_abstract": true,
  "has_methods": true
}
2025-12-07 01:47:43 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_parallel",
  "confidence": 0.09689087356141791,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:43 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 105
}
2025-12-07 01:47:43 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Randomization mentioned",
  "designs": [
    "rct_parallel",
    "rct_crossover",
    "rct_cluster",
    "rct_factorial"
  ],
  "weight": 9
}
2025-12-07 01:47:43 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Blinding mentioned",
  "designs": [
    "rct_parallel",
    "rct_crossover"
  ],
  "weight": 8
}
2025-12-07 01:47:43 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_parallel",
  "confidence": 0.3162563494245672,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
2025-12-07 01:47:43 [[32minfo[39m]: Extracting data using NLP {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "PERF-001",
  "design": "randomized_controlled_trial"
}
2025-12-07 01:47:43 [[32minfo[39m]: Data extraction complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "PERF-001",
  "confidence": 0.4,
  "requires_review": true
}
  âœ“ Classification time: 2ms
  âœ“ Extraction time: 1ms
  âœ“ Duplicate detection time: 0ms
âœ… Test 5 passed: All operations complete in reasonable time

============================================================
INTEGRATION TEST SUMMARY
============================================================
Total tests: 5
Passed: 5 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-phase3-integration.js (453.8772ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Phase 4 Integration Testing - Test Suite                â•‘
â•‘   Advanced Systematic Review Tools                        â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Systematic Review Planning Workflow ===
  Step 1: Research question: Does aspirin reduce cardiovascular events in diabetic patients compared to placebo?
  Step 2: PICO extracted
    - Population: Does aspirin reduce cardiovascular events in diabetic
    - Intervention: aspirin
    - Comparison: placebo
    - Outcome: cardiovascular events
  Step 3: Question scored
    - Overall score: 63
    - Rating: fair
    - Strengths: 2
    - Recommendations: 2
  Step 4: Search terms generated: 7 terms
âœ… Test 1 passed: Systematic review planning workflow

=== Test 2: Systematic Review Assessment Workflow ===
  Step 1: Systematic review identified
2025-12-07 01:47:43 [[32minfo[39m]: Assessing systematic review quality using AMSTAR-2 {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR001",
  "design": "systematic_review"
}
2025-12-07 01:47:43 [[32minfo[39m]: AMSTAR-2 assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR001",
  "overall_rating": "high",
  "confidence": 0.6571428571428571
}
  Step 2: AMSTAR-2 quality assessment
    - Overall rating: high
    - Confidence: 65.7%
    - Requires review: false
2025-12-07 01:47:43 [[32minfo[39m]: Assessing systematic review bias using ROBIS {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR001",
  "design": "systematic_review"
}
2025-12-07 01:47:43 [[32minfo[39m]: ROBIS assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR001",
  "overall_risk": "high",
  "confidence": 0.525
}
  Step 3: ROBIS bias assessment
    - Overall risk: high
    - Confidence: 52.5%
    - Requires review: true
  Step 4: Inclusion decision
    - High quality: true
    - Low bias: false
    - Include in review: false
âœ… Test 2 passed: Systematic review assessment workflow

=== Test 3: Multiple Questions Comparison ===
  Question 1: Does aspirin reduce cardiovascular events in diabe...
    - Score: 63, Rating: fair
  Question 2: Is exercise effective for depression?...
    - Score: 67, Rating: good
  Question 3: Does treatment help?...
    - Score: 58, Rating: fair
âœ… Test 3 passed: Multiple questions comparison

=== Test 4: PICO to Search Terms Workflow ===
  PICO elements:
    - P: Not clearly specified
    - I: cognitive behavioral therapy
    - C: medication
    - O: anxiety
  Search terms: therapy, cognitive, behavioral, medication, anxiety
  Structured question: does cognitive behavioral therapy, compared to medication, affect anxiety?
âœ… Test 4 passed: PICO to search terms workflow

=== Test 5: Quality Assessment Consistency ===
2025-12-07 01:47:43 [[32minfo[39m]: Assessing systematic review quality using AMSTAR-2 {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR002",
  "design": "systematic_review"
}
2025-12-07 01:47:43 [[32minfo[39m]: AMSTAR-2 assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR002",
  "overall_rating": "critically_low",
  "confidence": 0.4714285714285714
}
2025-12-07 01:47:43 [[32minfo[39m]: Assessing systematic review bias using ROBIS {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR002",
  "design": "systematic_review"
}
2025-12-07 01:47:43 [[32minfo[39m]: ROBIS assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR002",
  "overall_risk": "high",
  "confidence": 0.5
}
  AMSTAR-2 rating: critically_low
  ROBIS risk: high
  Assessments are consistent âœ“
âœ… Test 5 passed: Quality assessment consistency

=== Test 6: End-to-End Systematic Review Workflow ===
  Phase 1: Planning
    âœ“ Question scored: good
    âœ“ PICO extracted
    âœ“ Search terms generated: 7
  Phase 2: Search and screening
    âœ“ Search databases using terms
    âœ“ Screen studies
  Phase 3: Quality assessment
2025-12-07 01:47:43 [[32minfo[39m]: Assessing systematic review quality using AMSTAR-2 {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR003",
  "design": "systematic_review"
}
2025-12-07 01:47:43 [[32minfo[39m]: AMSTAR-2 assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR003",
  "overall_rating": "high",
  "confidence": 0.6571428571428571
}
2025-12-07 01:47:43 [[32minfo[39m]: Assessing systematic review bias using ROBIS {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR003",
  "design": "systematic_review"
}
2025-12-07 01:47:43 [[32minfo[39m]: ROBIS assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR003",
  "overall_risk": "high",
  "confidence": 0.525
}
    âœ“ AMSTAR-2: high
    âœ“ ROBIS: high
  Phase 4: Data extraction and synthesis
    âœ“ Extract outcomes
    âœ“ Synthesize findings
  Phase 5: Reporting
    âœ“ PRISMA flowchart
    âœ“ Quality assessment tables
    âœ“ Summary of findings
âœ… Test 6 passed: End-to-end workflow

============================================================
TEST SUMMARY
============================================================
Total tests: 6
Passed: 6 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-phase4-integration.js (446.1499ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Phase 5 Integration Tests - Test Suite                  â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Binary Meta-Analysis Workflow ===
  âœ“ Step 1: Calculated effect sizes for 3 studies
    - Study 1 OR: 0.375
    - Study 2 OR: 0.385
    - Study 3 OR: 0.368
  âœ“ Step 2: Pooled effect sizes
    - Pooled log(OR): -0.982
    - Pooled OR: 0.375
    - Model: fixed
    - P-value: 0.0000
  âœ“ Step 3: Assessed heterogeneity
    - IÂ²: 0.0%
    - Q p-value: 0.9958
    - Interpretation: low
    - Recommended model: fixed
âœ… Test 1 passed: Binary meta-analysis workflow complete

=== Test 2: Continuous Meta-Analysis Workflow ===
  âœ“ Step 1: Calculated SMD for 3 studies
    - Study 1 SMD: -0.996
    - Study 2 SMD: -0.663
    - Study 3 SMD: -0.544
  âœ“ Step 2: Pooled SMD
    - Pooled SMD: -0.730
    - 95% CI: [-1.002, -0.458]
    - Model: random
  âœ“ Step 3: Assessed heterogeneity
    - IÂ²: 62.4%
    - Ï„Â²: 0.036
âœ… Test 2 passed: Continuous meta-analysis workflow complete

=== Test 3: Heterogeneity-Driven Model Selection ===
  âœ“ Low heterogeneity scenario:
    - IÂ²: 0.0%
    - Recommended model: fixed
    - Selected model: fixed
  âœ“ High heterogeneity scenario:
    - IÂ²: 97.6%
    - Recommended model: random
    - Selected model: random
âœ… Test 3 passed: Model selection based on heterogeneity works

=== Test 4: Confidence Scoring Consistency ===
  âœ“ Good quality data confidence: 70.0%
  âœ“ Poor quality data confidence: 30.0%
âœ… Test 4 passed: Confidence scoring is consistent

=== Test 5: End-to-End Meta-Analysis ===
  Scenario: Meta-analysis of 5 RCTs comparing treatment vs control
  âœ“ Calculated effect sizes for 5 studies
  âœ“ Heterogeneity assessment:
    - IÂ²: 0.0%
    - Q statistic: 0.042
    - Q p-value: 0.9998
    - Recommended model: fixed
  âœ“ Pooled effect:
    - Pooled log(OR): -0.981
    - Pooled OR: 0.375
    - 95% CI: [0.282, 0.497]
    - P-value: 0.0000
    - Model: fixed
âœ… Test 5 passed: End-to-end meta-analysis complete

============================================================
TEST SUMMARY
============================================================
Total tests: 5
Passed: 5 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-phase5-integration.js (408.9924ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   PICO Extraction from Questions - Test Suite             â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Classic PICO Question ===
  âœ“ Population: Does aspirin reduce cardiovascular events in diabetic
  âœ“ Intervention: aspirin
  âœ“ Comparison: placebo
  âœ“ Outcome: cardiovascular events
  âœ“ Search terms: aspirin, events, does, reduce, cardiovascular
âœ… Test 1 passed: Classic PICO question

=== Test 2: Question with Age Group ===
  âœ“ Population keywords: elderly, depression
âœ… Test 2 passed: Age group extraction

=== Test 3: Question without Explicit Comparison ===
  âœ“ Comparison: Not clearly specified
âœ… Test 3 passed: Question without comparison

=== Test 4: Complex Intervention Question ===
âœ… Test 4 passed: Complex intervention question

=== Test 5: Therapy vs Standard Care ===
âœ… Test 5 passed: Therapy vs standard care

=== Test 6: Prevention Question ===
âœ… Test 6 passed: Prevention question

=== Test 7: Search Term Generation ===
  âœ“ Generated 7 unique search terms
âœ… Test 7 passed: Search term generation

=== Test 8: Structured Question Creation ===
  âœ“ Original: Does aspirin reduce cardiovascular events in diabetic patients compared to placebo?
  âœ“ Structured: In Does aspirin reduce cardiovascular events in diabetic, does aspirin, compared to placebo, affect cardiovascular events?
âœ… Test 8 passed: Structured question creation

=== Test 9: Vague Question (Low Confidence) ===
  âœ“ Overall confidence: 40.0%
âœ… Test 9 passed: Vague question handled

=== Test 10: Multiple Outcomes ===
  âœ“ Outcome: cardiovascular health and reduce mortality
âœ… Test 10 passed: Multiple outcomes

============================================================
TEST SUMMARY
============================================================
Total tests: 10
Passed: 10 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-pico-extraction.js (354.6292ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   PICO Extraction with NER - Test Suite                   â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: RCT with Clear PICO Elements ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracted 14 entities from text
  âœ“ Population detected: type 2 diabetes, diabetes, adults, type 2 diabetes, diabetes, Patients
  âœ“ Intervention detected: Metformin, metformin
  âœ“ Comparison detected: versus, placebo, placebo
  âœ“ Outcome detected: HbA1c, at 12 weeks, 12 weeks
  âœ“ Overall confidence >= 50%: 75.0%
âœ… Test passed: Test 1: RCT with Clear PICO Elements

=== Test 2: Entity Extraction Accuracy ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracted 7 entities from text
  âœ“ Entities found: 7
  âœ“ Population entities: 3
  âœ“ Intervention entities: 2
  âœ“ Outcome entities: 2
âœ… Test passed: Test 2: Entity Extraction Accuracy

=== Test 3: Disease Entity Recognition ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracted 6 entities from text
  âœ“ Diseases detected in population: hypertension, Patients, hypertension, diabetes
  âœ“ Disease entities identified
âœ… Test passed: Test 3: Disease Entity Recognition

=== Test 4: Drug Entity Recognition ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracted 8 entities from text
  âœ“ Drug/therapy detected: Insulin, therapy, insulin, treatment, care
  âœ“ Intervention entities found
âœ… Test passed: Test 4: Drug Entity Recognition

=== Test 5: Outcome Entity Recognition ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracted 4 entities from text
  âœ“ Outcomes detected: Mortality, mortality, quality of life, adverse events
  âœ“ Multiple outcome entities: 4
âœ… Test passed: Test 5: Outcome Entity Recognition

=== Test 6: Confidence Scoring Based on Entities ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracted 0 entities from text
2025-12-07 01:47:43 [[32minfo[39m]: Extracted 12 entities from text
  âœ“ Rich text has higher confidence: 67.5% vs 20.0%
  âœ“ Rich text has more entities: 12 vs 0
âœ… Test passed: Test 6: Confidence Scoring Based on Entities

=== Test 7: Age Group Entity Detection ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracted 8 entities from text
  âœ“ Age group entities detected
  âœ“ Age information in population: elderly, patients, Patients, aged 65-80, 65-80 years, Children, adolescents
âœ… Test passed: Test 7: Age Group Entity Detection

=== Test 8: Comparison Group Detection ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracted 6 entities from text
  âœ“ Comparison detected: versus, placebo, Compared to, standard care
âœ… Test passed: Test 8: Comparison Group Detection

=== Test 9: Warnings for Low Entity Count ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracted 0 entities from text
  âœ“ Warnings generated: 4
  âœ“ Appropriate warnings for sparse text
âœ… Test passed: Test 9: Warnings for Low Entity Count

=== Test 10: Recommendations Based on Confidence ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracted 4 entities from text
  âœ“ Recommendations: 3
  âœ“ Recommendations is array
âœ… Test passed: Test 10: Recommendations Based on Confidence

=== Test 11: Interpretation Quality ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracted 8 entities from text
  âœ“ Detailed interpretation
  âœ“ Mentions entity count
  âœ“ Mentions confidence
âœ… Test passed: Test 11: Interpretation Quality

=== Test 12: Multiple Disease Detection ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracted 4 entities from text
  âœ“ Multiple diseases detected: 3
âœ… Test passed: Test 12: Multiple Disease Detection

=== Test 13: Surgical Procedure Detection ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracted 8 entities from text
  âœ“ Procedure detected: Bypass, surgery, bypass, surgery, medical, management
  âœ“ Procedure entity type identified
âœ… Test passed: Test 13: Surgical Procedure Detection

=== Test 14: Time Period Entity Detection ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracted 6 entities from text
  âœ“ Time periods detected: 5
âœ… Test passed: Test 14: Time Period Entity Detection

=== Test 15: Entity Confidence Scores ===
2025-12-07 01:47:43 [[32minfo[39m]: Extracted 8 entities from text
  âœ“ Population confidence valid: 90.0%
  âœ“ Intervention confidence valid: 60.0%
  âœ“ Outcome confidence valid: 45.0%
âœ… Test passed: Test 15: Entity Confidence Scores

============================================================
TEST SUMMARY
============================================================
Total tests: 15
Passed: 15 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-pico-ner.js (335.1947ms)
node:internal/modules/run_main:107
    triggerUncaughtException(
    ^

Error [ERR_MODULE_NOT_FOUND]: Cannot find module 'C:\Users\Admin\Documents\AI-Projects\OpenAgents-main\Project\MedResearch-AI\tests\dist\src\mcp\tools\plagiarism-detection.js' imported from C:\Users\Admin\Documents\AI-Projects\OpenAgents-main\Project\MedResearch-AI\tests\test-plagiarism.js
Did you mean to import "../dist/src/mcp/tools/plagiarism-detection.js"?
    at finalizeResolution (node:internal/modules/esm/resolve:274:11)
    at moduleResolve (node:internal/modules/esm/resolve:864:10)
    at defaultResolve (node:internal/modules/esm/resolve:990:11)
    at #cachedDefaultResolve (node:internal/modules/esm/loader:757:20)
    at ModuleLoader.resolve (node:internal/modules/esm/loader:734:38)
    at ModuleLoader.getModuleJobForImport (node:internal/modules/esm/loader:317:38)
    at #link (node:internal/modules/esm/module_job:208:49) {
  code: 'ERR_MODULE_NOT_FOUND',
  url: 'file:///C:/Users/Admin/Documents/AI-Projects/OpenAgents-main/Project/MedResearch-AI/tests/dist/src/mcp/tools/plagiarism-detection.js'
}

Node.js v24.11.0
âœ– tests\test-plagiarism.js (139.7089ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Pooled Effect Size Calculation - Test Suite             â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Fixed-Effect Pooling ===
  âœ“ Pooled effect: 0.537
  âœ“ 95% CI: [0.403, 0.671]
  âœ“ P-value: 0.0000
  âœ“ IÂ²: 0.0%
âœ… Test 1 passed: Fixed-effect pooling works

=== Test 2: Random-Effects Pooling ===
  âœ“ Pooled effect: 0.833
  âœ“ TauÂ²: 0.413
  âœ“ IÂ²: 97.6%
âœ… Test 2 passed: Random-effects pooling works

=== Test 3: Single Study ===
  âœ“ Pooled effect: 0.500
  âœ“ Warnings: 1
âœ… Test 3 passed: Single study handled correctly

=== Test 4: Two Studies ===
  âœ“ Pooled effect: 0.500
âœ… Test 4 passed: Two studies pooled correctly

=== Test 5: Multiple Studies (5+) ===
  âœ“ Number of studies: 5
  âœ“ Pooled effect: 0.540
  âœ“ Confidence: 70.0%
âœ… Test 5 passed: Multiple studies pooled correctly

=== Test 6: Automatic Model Selection ===
  âœ“ Low heterogeneity model: fixed
  âœ“ High heterogeneity model: random
âœ… Test 6 passed: Automatic model selection works

=== Test 7: Weight Calculation ===
  âœ“ Study 1 weight: 59.0%
  âœ“ Study 2 weight: 14.8%
  âœ“ Study 3 weight: 26.2%
âœ… Test 7 passed: Weight calculation works correctly

=== Test 8: Calculate SE from CI ===
  âœ“ Pooled effect: 0.531
âœ… Test 8 passed: SE calculated from CI correctly

=== Test 9: Input Validation ===
  âœ“ Empty array rejected
  âœ“ Missing SE/CI rejected
  âœ“ Invalid CI rejected
âœ… Test 9 passed: Input validation works

=== Test 10: P-value Calculation ===
  âœ“ Significant effect p-value: 0.0000
  âœ“ Null effect p-value: 1.0000
âœ… Test 10 passed: P-value calculation works

============================================================
TEST SUMMARY
============================================================
Total tests: 10
Passed: 10 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-pooled-effect.js (313.4714ms)
ğŸ§ª PRISMA 2020 Compliance Checker - Test Suite

============================================================

ğŸš€ Starting PRISMA Compliance Checker Tests...


ğŸ“‹ Test 1: Good PRISMA Compliance
------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Starting PRISMA compliance check for PRISMA_2020
2025-12-07 01:47:43 [[32minfo[39m]: Identified 6 manuscript sections
2025-12-07 01:47:43 [[32minfo[39m]: PRISMA compliance check complete: 30.8% compliant
2025-12-07 01:47:43 [[32minfo[39m]: Complete: 12, Partial: 0, Incomplete: 27
âœ… Compliance score: 30.8%
âœ… Complete items: 12
âœ… Partial items: 0
âœ… Incomplete items: 27
âœ… Assessment: Low compliance with PRISMA 2020 guidelines, major revisions needed

âŒ TEST FAILED: Good manuscript should have higher compliance score

ğŸ“‹ Test 2: Poor PRISMA Compliance
------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Starting PRISMA compliance check for PRISMA_2020
2025-12-07 01:47:43 [[32minfo[39m]: Identified 6 manuscript sections
2025-12-07 01:47:43 [[32minfo[39m]: PRISMA compliance check complete: 2.6% compliant
2025-12-07 01:47:43 [[32minfo[39m]: Complete: 1, Partial: 0, Incomplete: 38
âœ… Compliance score: 2.6%
âœ… Complete items: 1
âœ… Incomplete items: 38
âœ… Assessment: Low compliance with PRISMA 2020 guidelines, major revisions needed

âœ… TEST PASSED: Poor manuscript correctly identified as non-compliant

ğŸ“‹ Test 3: Specific Items Detection
------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Starting PRISMA compliance check for PRISMA_2020
2025-12-07 01:47:43 [[32minfo[39m]: Identified 6 manuscript sections
2025-12-07 01:47:43 [[32minfo[39m]: PRISMA compliance check complete: 30.8% compliant
2025-12-07 01:47:43 [[32minfo[39m]: Complete: 12, Partial: 0, Incomplete: 27
âœ… Item 1 (Title): complete
âœ… Item 4 (Objectives): incomplete
âœ… Item 5 (Eligibility): complete
âœ… Item 24a (Registration): complete

âš ï¸ TEST WARNING: Some expected items not detected as complete

ğŸ“‹ Test 4: Recommendations Generation
------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Starting PRISMA compliance check for PRISMA_2020
2025-12-07 01:47:43 [[32minfo[39m]: Identified 6 manuscript sections
2025-12-07 01:47:43 [[32minfo[39m]: PRISMA compliance check complete: 2.6% compliant
2025-12-07 01:47:43 [[32minfo[39m]: Complete: 1, Partial: 0, Incomplete: 38
âœ… Incomplete items: 38
âœ… Items with recommendations: 38

ğŸ“Š Sample Recommendations:
   Item 1: Add "systematic review" or "meta-analysis" to the title
   Item 2: Include a structured abstract with Background, Methods, Results, and Conclusions
   Item 3: Add a paragraph explaining why this review is needed

âœ… TEST PASSED: Recommendations generated for incomplete items

ğŸ“‹ Test 5: Report Generation
------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Starting PRISMA compliance check for PRISMA_2020
2025-12-07 01:47:43 [[32minfo[39m]: Identified 6 manuscript sections
2025-12-07 01:47:43 [[32minfo[39m]: PRISMA compliance check complete: 30.8% compliant
2025-12-07 01:47:43 [[32minfo[39m]: Complete: 12, Partial: 0, Incomplete: 27
âœ… Report generated: 8065 characters
âœ… Contains overall assessment: true
âœ… Contains compliance score: true
âœ… Contains incomplete items: true

ğŸ“Š Report Preview:
# PRISMA 2020 Compliance Report

## Overall Assessment

**Low compliance with PRISMA 2020 guidelines, major revisions needed**

- **Compliance Score**: 30.8%
- **Complete**: 12 items
- **Partial**: 0 items
- **Incomplete**: 27 items

**Progress**: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘

## âŒ Incomplete Items (27)

These items require immediate attention:

### Item 4: Introduction - Objectives

**Requirement**: Provide an explicit statement of the objective(s) or question(s)

**Recommendation**: Clearly state the ...

âœ… TEST PASSED: Report generated successfully

ğŸ“‹ Test 6: Section Identification
------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Starting PRISMA compliance check for PRISMA_2020
2025-12-07 01:47:43 [[32minfo[39m]: Identified 6 manuscript sections
2025-12-07 01:47:43 [[32minfo[39m]: PRISMA compliance check complete: 30.8% compliant
2025-12-07 01:47:43 [[32minfo[39m]: Complete: 12, Partial: 0, Incomplete: 27
âœ… Items with identified sections: 12

ğŸ“Š Sample Section Identifications:
   Item 1: Found in "title"
   Item 2: Found in "abstract"
   Item 3: Found in "introduction"
   Item 5: Found in "methods"
   Item 16a: Found in "results"

âœ… TEST PASSED: Sections identified correctly

ğŸ“‹ Test 7: Performance Test
------------------------------------------------------------
2025-12-07 01:47:43 [[32minfo[39m]: Starting PRISMA compliance check for PRISMA_2020
2025-12-07 01:47:43 [[32minfo[39m]: Identified 6 manuscript sections
2025-12-07 01:47:43 [[32minfo[39m]: PRISMA compliance check complete: 30.8% compliant
2025-12-07 01:47:43 [[32minfo[39m]: Complete: 12, Partial: 0, Incomplete: 27
âœ… Processing time: 1ms
âœ… Items checked: 39
âœ… Time per item: 0ms

âœ… TEST PASSED: Performance within acceptable limits

============================================================
ğŸ“Š TEST SUMMARY
============================================================
âŒ Good Compliance
âœ… Poor Compliance
âœ… Specific Items
âœ… Recommendations
âœ… Report Generation
âœ… Section Identification
âœ… Performance

============================================================
TOTAL: 6/7 tests passed (86%)
============================================================

âš ï¸ SOME TESTS FAILED. Please review the results above.

âœ– tests\test-prisma-compliance.js (341.9095ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   PRISMA Flowchart Generation - Test Suite                â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Complete PRISMA Flowchart Generation ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating PRISMA flowchart
2025-12-07 01:47:43 [[32minfo[39m]: PRISMA flowchart generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_identified": 5600,
  "total_included": 50,
  "is_valid": true
}
  âœ“ Flowchart generated
  âœ“ Contains PRISMA 2020 title
  âœ“ Contains IDENTIFICATION section
  âœ“ Contains SCREENING section
  âœ“ Contains ELIGIBILITY section
  âœ“ Contains INCLUDED section
  âœ“ Total identified: 5600
  âœ“ Total included: 50
âœ… Test passed: Test 1: Complete PRISMA Flowchart Generation

=== Test 2: Summary Statistics Calculation ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating PRISMA flowchart
2025-12-07 01:47:43 [[32minfo[39m]: PRISMA flowchart generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_identified": 1250,
  "total_included": 50,
  "is_valid": true
}
  âœ“ Total identified: 1250
  âœ“ Total screened: 1000
  âœ“ Total assessed: 200
  âœ“ Screening exclusion rate: 80%
  âœ“ Eligibility exclusion rate: 75%
âœ… Test passed: Test 2: Summary Statistics Calculation

=== Test 3: Validation - Valid Data ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating PRISMA flowchart
2025-12-07 01:47:43 [[32minfo[39m]: PRISMA flowchart generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_identified": 1000,
  "total_included": 50,
  "is_valid": true
}
  âœ“ Data is valid
  âœ“ No errors: 0
âœ… Test passed: Test 3: Validation - Valid Data

=== Test 4: Validation - Invalid Data Detection ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating PRISMA flowchart
2025-12-07 01:47:43 [[32minfo[39m]: PRISMA flowchart generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_identified": 1000,
  "total_included": 50,
  "is_valid": false
}
  âœ“ Data is invalid
  âœ“ Errors detected: 1
  âœ“ Error mentions synthesis issue
âœ… Test passed: Test 4: Validation - Invalid Data Detection

=== Test 5: Exclusion Reasons Display ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating PRISMA flowchart
2025-12-07 01:47:43 [[32minfo[39m]: PRISMA flowchart generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_identified": 1000,
  "total_included": 50,
  "is_valid": true
}
  âœ“ Screening exclusion reason displayed
  âœ“ Multiple screening reasons displayed
  âœ“ Eligibility exclusion reason displayed
  âœ“ Multiple eligibility reasons displayed
âœ… Test passed: Test 5: Exclusion Reasons Display

=== Test 6: Interpretation Generation ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating PRISMA flowchart
2025-12-07 01:47:43 [[32minfo[39m]: PRISMA flowchart generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_identified": 2400,
  "total_included": 50,
  "is_valid": true
}
  âœ“ Interpretation generated
  âœ“ Mentions total identified
  âœ“ Mentions studies included
  âœ“ Mentions studies in synthesis
  âœ“ Includes percentages
âœ… Test passed: Test 6: Interpretation Generation

=== Test 7: Small Dataset Handling ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating PRISMA flowchart
2025-12-07 01:47:43 [[32minfo[39m]: PRISMA flowchart generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_identified": 65,
  "total_included": 5,
  "is_valid": true
}
  âœ“ Flowchart generated for small dataset
  âœ“ Total identified: 65
  âœ“ Total included: 5
âœ… Test passed: Test 7: Small Dataset Handling

=== Test 8: Large Dataset Handling ===
2025-12-07 01:47:43 [[32minfo[39m]: Generating PRISMA flowchart
2025-12-07 01:47:43 [[32minfo[39m]: PRISMA flowchart generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_identified": 56000,
  "total_included": 200,
  "is_valid": true
}
  âœ“ Flowchart generated for large dataset
  âœ“ Total identified: 56000
  âœ“ Total included: 200
âœ… Test passed: Test 8: Large Dataset Handling

============================================================
TEST SUMMARY
============================================================
Total tests: 8
Passed: 8 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-prisma-flowchart.js (372.158ms)
ğŸ§ª Project Dashboard Generator - Test Suite

============================================================

ğŸš€ Starting Project Dashboard Generator Tests...


ğŸ“‹ Test 1: Create Basic Dashboard
------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Creating project dashboard for Metformin vs Sulfonylureas in T2DM
2025-12-07 01:47:44 [[32minfo[39m]: Generating 3 charts
2025-12-07 01:47:44 [[32minfo[39m]: Dashboard saved to C:\Users\Admin\Documents\AI-Projects\OpenAgents-main\Project\MedResearch-AI\test-output\test-dashboard.html
2025-12-07 01:47:44 [[32minfo[39m]: Dashboard created successfully in 76ms
âœ… Dashboard created: C:\Users\Admin\Documents\AI-Projects\OpenAgents-main\Project\MedResearch-AI\test-output\test-dashboard.html
âœ… Charts generated: 3
âœ… Processing time: 76ms

âœ… TEST PASSED: Dashboard created successfully

ğŸ“‹ Test 2: Create Dashboard with Custom Charts
------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Creating project dashboard for Custom Charts Test
2025-12-07 01:47:44 [[32minfo[39m]: Generating 2 charts
2025-12-07 01:47:44 [[32minfo[39m]: Dashboard saved to C:\Users\Admin\Documents\AI-Projects\OpenAgents-main\Project\MedResearch-AI\test-output\test-custom-charts.html
2025-12-07 01:47:44 [[32minfo[39m]: Dashboard created successfully in 25ms
âœ… Dashboard created: C:\Users\Admin\Documents\AI-Projects\OpenAgents-main\Project\MedResearch-AI\test-output\test-custom-charts.html
âœ… Charts generated: 2

âœ… TEST PASSED: Custom charts created successfully

ğŸ“‹ Test 3: Create Dashboard with Auto-Refresh
------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Creating project dashboard for Auto-Refresh Test
2025-12-07 01:47:44 [[32minfo[39m]: Generating 3 charts
2025-12-07 01:47:44 [[32minfo[39m]: Dashboard saved to C:\Users\Admin\Documents\AI-Projects\OpenAgents-main\Project\MedResearch-AI\test-output\test-auto-refresh.html
2025-12-07 01:47:44 [[32minfo[39m]: Dashboard created successfully in 25ms
âœ… Dashboard created: C:\Users\Admin\Documents\AI-Projects\OpenAgents-main\Project\MedResearch-AI\test-output\test-auto-refresh.html
âœ… Auto-refresh enabled: true

âœ… TEST PASSED: Auto-refresh configured correctly

ğŸ“‹ Test 4: Create Dashboard with Dark Theme
------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Creating project dashboard for Dark Theme Test
2025-12-07 01:47:44 [[32minfo[39m]: Generating 3 charts
2025-12-07 01:47:44 [[32minfo[39m]: Dashboard saved to C:\Users\Admin\Documents\AI-Projects\OpenAgents-main\Project\MedResearch-AI\test-output\test-dark-theme.html
2025-12-07 01:47:44 [[32minfo[39m]: Dashboard created successfully in 20ms
âœ… Dashboard created: C:\Users\Admin\Documents\AI-Projects\OpenAgents-main\Project\MedResearch-AI\test-output\test-dark-theme.html
âœ… Dark theme applied: true

âœ… TEST PASSED: Dark theme applied correctly

ğŸ“‹ Test 5: Update Existing Dashboard
------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Creating project dashboard for Update Test
2025-12-07 01:47:44 [[32minfo[39m]: Generating 3 charts
2025-12-07 01:47:44 [[32minfo[39m]: Dashboard saved to C:\Users\Admin\Documents\AI-Projects\OpenAgents-main\Project\MedResearch-AI\test-output\test-update.html
2025-12-07 01:47:44 [[32minfo[39m]: Dashboard created successfully in 30ms
2025-12-07 01:47:44 [[32minfo[39m]: Updating dashboard at C:\Users\Admin\Documents\AI-Projects\OpenAgents-main\Project\MedResearch-AI\test-output\test-update.html
2025-12-07 01:47:44 [[32minfo[39m]: Creating project dashboard for test-output
2025-12-07 01:47:44 [[32minfo[39m]: Generating 3 charts
2025-12-07 01:47:44 [[32minfo[39m]: Dashboard saved to C:\Users\Admin\Documents\AI-Projects\OpenAgents-main\Project\MedResearch-AI\test-output\test-update.html
2025-12-07 01:47:44 [[32minfo[39m]: Dashboard created successfully in 20ms
âœ… Dashboard updated: C:\Users\Admin\Documents\AI-Projects\OpenAgents-main\Project\MedResearch-AI\test-output\test-update.html
âœ… New citations: 1500
âœ… New studies: 22

âœ… TEST PASSED: Dashboard updated successfully

ğŸ“‹ Test 6: Validate HTML Structure
------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Creating project dashboard for HTML Structure Test
2025-12-07 01:47:44 [[32minfo[39m]: Generating 3 charts
2025-12-07 01:47:44 [[32minfo[39m]: Dashboard saved to C:\Users\Admin\Documents\AI-Projects\OpenAgents-main\Project\MedResearch-AI\test-output\test-html-structure.html
2025-12-07 01:47:44 [[32minfo[39m]: Dashboard created successfully in 25ms
âœ… Has DOCTYPE: true
âœ… Has title: true
âœ… Has Chart.js: true
âœ… Has metrics: true
âœ… Has charts: true

âœ… TEST PASSED: HTML structure is valid

ğŸ“‹ Test 7: Performance Test
------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Creating project dashboard for Performance Test
2025-12-07 01:47:44 [[32minfo[39m]: Generating 3 charts
2025-12-07 01:47:44 [[32minfo[39m]: Dashboard saved to C:\Users\Admin\Documents\AI-Projects\OpenAgents-main\Project\MedResearch-AI\test-output\test-performance.html
2025-12-07 01:47:44 [[32minfo[39m]: Dashboard created successfully in 33ms
âœ… Processing time: 33ms
âœ… Total time: 33ms
âœ… Charts generated: 3

âœ… TEST PASSED: Performance within acceptable limits

ğŸ§¹ Cleaned up test files

============================================================
ğŸ“Š TEST SUMMARY
============================================================
âœ… Basic Dashboard
âœ… Custom Charts
âœ… Auto-Refresh
âœ… Dark Theme
âœ… Update Dashboard
âœ… HTML Structure
âœ… Performance

============================================================
TOTAL: 7/7 tests passed (100%)
============================================================

ğŸ‰ ALL TESTS PASSED! Project Dashboard Tool is working correctly.

âœ” tests\test-project-dashboard.js (639.8128ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Publication Bias Assessment - Test Suite                â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: No Publication Bias (Symmetric) ===
  âœ“ Bias detected: false
  âœ“ Egger's p-value: 1.0000
  âœ“ Begg's p-value: 1.0000
âœ… Test 1 passed: No bias detected in symmetric data

=== Test 2: Publication Bias Present (Asymmetric) ===
  âœ“ Bias detected: true
  âœ“ Egger's p-value: 0.0152
  âœ“ Begg's p-value: 0.0388
  âœ“ Assessment confidence: low
âœ… Test 2 passed: Asymmetric data processed

=== Test 3: Egger's Test Calculation ===
  âœ“ Intercept: 2.028
  âœ“ T-statistic: 8.319
  âœ“ P-value: 0.0754
  âœ“ df: 1
âœ… Test 3 passed: Egger's test calculated correctly

=== Test 4: Begg's Test Calculation ===
  âœ“ Kendall's tau: 1.000
  âœ“ Z-statistic: 1.567
  âœ“ P-value: 0.1172
âœ… Test 4 passed: Begg's test calculated correctly

=== Test 5: Funnel Plot Data Generation ===
  âœ“ Funnel plot points: 3
  âœ“ Pooled effect: 0.55
âœ… Test 5 passed: Funnel plot data generated correctly

=== Test 6: Few Studies Warning ===
  âœ“ Warnings: 1
  âœ“ Confidence: 40.0%
âœ… Test 6 passed: Few studies warning works

=== Test 7: Overall Assessment ===
  âœ“ Bias detected: false
  âœ“ Assessment confidence: low
  âœ“ Interpretation: No strong evidence of publication bias detected. H...
âœ… Test 7 passed: Overall assessment generated

=== Test 8: Confidence Scoring ===
  âœ“ Many studies (n=15) confidence: 60.0%
  âœ“ Few studies (n=2) confidence: 40.0%
âœ… Test 8 passed: Confidence scoring works

============================================================
TEST SUMMARY
============================================================
Total tests: 8
Passed: 8 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-publication-bias.js (336.2947ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   PubMed API Integration - Test Suite                     â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Basic PubMed Search ===
2025-12-07 01:47:44 [[32minfo[39m]: Searching PubMed database {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "query": "COVID-19"
}
2025-12-07 01:47:44 [[32minfo[39m]: PubMed search complete {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_results": 3,
  "returned_results": 3
}
  âœ“ Query stored correctly
  âœ“ Results found: 3
  âœ“ Articles returned: 3
  âœ“ Database is PubMed
âœ… Test passed: Test 1: Basic PubMed Search

=== Test 2: Search with Max Results Limit ===
2025-12-07 01:47:44 [[32minfo[39m]: Searching PubMed database {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "query": "vaccine",
  "max_results": 2
}
2025-12-07 01:47:44 [[32minfo[39m]: PubMed search complete {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_results": 2,
  "returned_results": 2
}
  âœ“ Max results respected: 2
âœ… Test passed: Test 2: Search with Max Results Limit

=== Test 3: Search with Date Range ===
2025-12-07 01:47:44 [[32minfo[39m]: Searching PubMed database {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "query": "COVID-19"
}
2025-12-07 01:47:44 [[32minfo[39m]: PubMed search complete {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_results": 1,
  "returned_results": 1
}
  âœ“ Results within date range
  âœ“ All results within specified date range
âœ… Test passed: Test 3: Search with Date Range

=== Test 4: Fetch Article by PMID ===
2025-12-07 01:47:44 [[32minfo[39m]: Fetching article by PMID {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "pmid": "33782619"
}
2025-12-07 01:47:44 [[32minfo[39m]: Article found {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "pmid": "33782619",
  "title": "Initial report of decreased SARS-CoV-2 viral load after inoculation with the BNT162b2 vaccine"
}
  âœ“ Article found
  âœ“ PMID matches: 33782619
  âœ“ Title present
  âœ“ Authors present
âœ… Test passed: Test 4: Fetch Article by PMID

=== Test 5: Fetch Non-Existent PMID ===
2025-12-07 01:47:44 [[32minfo[39m]: Fetching article by PMID {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "pmid": "99999999"
}
2025-12-07 01:47:44 [[33mwarn[39m]: Article not found {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "pmid": "99999999"
}
  âœ“ Returns null for non-existent PMID
âœ… Test passed: Test 5: Fetch Non-Existent PMID

=== Test 6: Batch Fetch Articles ===
2025-12-07 01:47:44 [[32minfo[39m]: Batch fetching articles {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "count": 3
}
2025-12-07 01:47:44 [[32minfo[39m]: Fetching article by PMID {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "pmid": "33782619"
}
2025-12-07 01:47:44 [[32minfo[39m]: Article found {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "pmid": "33782619",
  "title": "Initial report of decreased SARS-CoV-2 viral load after inoculation with the BNT162b2 vaccine"
}
2025-12-07 01:47:44 [[32minfo[39m]: Fetching article by PMID {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "pmid": "32109013"
}
2025-12-07 01:47:44 [[32minfo[39m]: Article found {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "pmid": "32109013",
  "title": "Clinical Characteristics of Coronavirus Disease 2019 in China"
}
2025-12-07 01:47:44 [[32minfo[39m]: Fetching article by PMID {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "pmid": "33301246"
}
2025-12-07 01:47:44 [[32minfo[39m]: Article found {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "pmid": "33301246",
  "title": "Safety and Efficacy of the BNT162b2 mRNA Covid-19 Vaccine"
}
2025-12-07 01:47:44 [[32minfo[39m]: Batch fetch complete {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "requested": 3,
  "found": 3
}
  âœ“ All articles fetched: 3
  âœ“ First article correct
  âœ“ Second article correct
  âœ“ Third article correct
âœ… Test passed: Test 6: Batch Fetch Articles

=== Test 7: Build Advanced Query ===
  âœ“ Includes search term
  âœ“ Includes author
  âœ“ Includes journal
  âœ“ Includes year range
âœ… Test passed: Test 7: Build Advanced Query

=== Test 8: Citation Formatting - APA ===
2025-12-07 01:47:44 [[32minfo[39m]: Fetching article by PMID {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "pmid": "33782619"
}
2025-12-07 01:47:44 [[32minfo[39m]: Article found {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "pmid": "33782619",
  "title": "Initial report of decreased SARS-CoV-2 viral load after inoculation with the BNT162b2 vaccine"
}
  âœ“ Includes author
  âœ“ Includes year
  âœ“ Includes journal
  âœ“ Includes identifier
âœ… Test passed: Test 8: Citation Formatting - APA

============================================================
TEST SUMMARY
============================================================
Total tests: 8
Passed: 8 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-pubmed-api.js (369.5859ms)
================================================================================
CASP Qualitative Checklist - Test Suite
================================================================================

Testing: High-Quality Phenomenological Study
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Assessing qualitative study quality using CASP {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-1",
  "design": "phenomenology"
}
2025-12-07 01:47:44 [[32minfo[39m]: CASP assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-1",
  "score": "8/10",
  "rating": "good",
  "confidence": 0.6100000000000001
}
âœ… PASS
   Rating: good (expected: good) âœ“
   Score: 8/10 (expected: 8-10) âœ“
   Confidence: 61%
   Domains: 3
     - Screening Questions: 1/2 criteria met
     - Methodological Rigor: 6/6 criteria met
     - Results and Value: 1/2 criteria met

Testing: Fair-Quality Grounded Theory Study
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Assessing qualitative study quality using CASP {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-2",
  "design": "grounded_theory"
}
2025-12-07 01:47:44 [[32minfo[39m]: CASP assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-2",
  "score": "6/10",
  "rating": "fair",
  "confidence": 0.48999999999999994
}
âœ… PASS
   Rating: fair (expected: fair) âœ“
   Score: 6/10 (expected: 6-7) âœ“
   Confidence: 49%
   Domains: 3
     - Screening Questions: 1/2 criteria met
     - Methodological Rigor: 4/6 criteria met
     - Results and Value: 1/2 criteria met

Testing: Poor-Quality Qualitative Study
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Assessing qualitative study quality using CASP {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-3",
  "design": "qualitative_descriptive"
}
2025-12-07 01:47:44 [[32minfo[39m]: CASP assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-3",
  "score": "2/10",
  "rating": "poor",
  "confidence": 0.3499999999999999
}
âœ… PASS
   Rating: poor (expected: poor) âœ“
   Score: 2/10 (expected: 0-5) âœ“
   Confidence: 35%
   Domains: 3
     - Screening Questions: 1/2 criteria met
     - Methodological Rigor: 1/6 criteria met
     - Results and Value: 0/2 criteria met

Testing: Ethnographic Study
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Assessing qualitative study quality using CASP {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-4",
  "design": "ethnography"
}
2025-12-07 01:47:44 [[32minfo[39m]: CASP assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-4",
  "score": "6/10",
  "rating": "fair",
  "confidence": 0.5599999999999999
}
âœ… PASS
   Rating: fair (expected: good) âœ—
   Score: 6/10 (expected: 8-10) ~
   Confidence: 56%
   Domains: 3
     - Screening Questions: 1/2 criteria met
     - Methodological Rigor: 4/6 criteria met
     - Results and Value: 1/2 criteria met

================================================================================
TEST SUMMARY
================================================================================
Total Tests: 4
Passed: 4 (100.0%)
Failed: 0 (0.0%)

DETAILED RESULTS:
--------------------------------------------------------------------------------
âœ… High-Quality Phenomenological Study
   Rating: good, Score: 8/10, Confidence: 61%
âœ… Fair-Quality Grounded Theory Study
   Rating: fair, Score: 6/10, Confidence: 49%
âœ… Poor-Quality Qualitative Study
   Rating: poor, Score: 2/10, Confidence: 35%
âœ… Ethnographic Study
   Rating: fair, Score: 6/10, Confidence: 56%

âœ” tests\test-quality-assessment-casp.js (368.3792ms)
================================================================================
JBI Critical Appraisal Tools - Test Suite
================================================================================

PART 1: JBI Cross-Sectional Studies
================================================================================

Testing: High-Quality Cross-Sectional Study
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Assessing cross-sectional study quality using JBI {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "cs-1",
  "design": "cross_sectional"
}
2025-12-07 01:47:44 [[32minfo[39m]: JBI cross-sectional assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "cs-1",
  "score": "7/8",
  "rating": "good",
  "confidence": 0.6625
}
âœ… PASS
   Rating: good (expected: good) âœ“
   Score: 7/8 (expected: 6-8) âœ“
   Confidence: 66%

Testing: Fair-Quality Cross-Sectional Study
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Assessing cross-sectional study quality using JBI {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "cs-2",
  "design": "cross_sectional"
}
2025-12-07 01:47:44 [[32minfo[39m]: JBI cross-sectional assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "cs-2",
  "score": "1/8",
  "rating": "poor",
  "confidence": 0.32499999999999996
}
âœ… PASS
   Rating: poor (expected: fair) âœ—
   Score: 1/8 (expected: 3-5) ~
   Confidence: 32%

Testing: Poor-Quality Cross-Sectional Study
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Assessing cross-sectional study quality using JBI {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "cs-3",
  "design": "cross_sectional"
}
2025-12-07 01:47:44 [[32minfo[39m]: JBI cross-sectional assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "cs-3",
  "score": "0/8",
  "rating": "poor",
  "confidence": 0.3
}
âœ… PASS
   Rating: poor (expected: poor) âœ“
   Score: 0/8 (expected: 0-3) âœ“
   Confidence: 30%

PART 2: JBI Case Reports
================================================================================

Testing: High-Quality Case Report
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Assessing case report quality using JBI {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "cr-1",
  "design": "case_report"
}
2025-12-07 01:47:44 [[32minfo[39m]: JBI case report assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "cr-1",
  "score": "8/8",
  "rating": "good",
  "confidence": 0.6875
}
âœ… PASS
   Rating: good (expected: good) âœ“
   Score: 8/8 (expected: 6-8) âœ“
   Confidence: 69%

Testing: Fair-Quality Case Report
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Assessing case report quality using JBI {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "cr-2",
  "design": "case_report"
}
2025-12-07 01:47:44 [[32minfo[39m]: JBI case report assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "cr-2",
  "score": "6/8",
  "rating": "good",
  "confidence": 0.6
}
âœ… PASS
   Rating: good (expected: fair) âœ—
   Score: 6/8 (expected: 3-5) ~
   Confidence: 60%

Testing: Poor-Quality Case Report
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Assessing case report quality using JBI {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "cr-3",
  "design": "case_report"
}
2025-12-07 01:47:44 [[32minfo[39m]: JBI case report assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "cr-3",
  "score": "5/8",
  "rating": "fair",
  "confidence": 0.4499999999999999
}
âœ… PASS
   Rating: fair (expected: fair) âœ“
   Score: 5/8 (expected: 4-6) âœ“
   Confidence: 45%

================================================================================
TEST SUMMARY
================================================================================
Total Tests: 6
  - Cross-Sectional: 3
  - Case Reports: 3
Passed: 6 (100.0%)
Failed: 0 (0.0%)

DETAILED RESULTS:
--------------------------------------------------------------------------------
âœ… [Cross-Sectional] High-Quality Cross-Sectional Study
   Rating: good, Score: 7/8, Confidence: 66%
âœ… [Cross-Sectional] Fair-Quality Cross-Sectional Study
   Rating: poor, Score: 1/8, Confidence: 32%
âœ… [Cross-Sectional] Poor-Quality Cross-Sectional Study
   Rating: poor, Score: 0/8, Confidence: 30%
âœ… [Case Report] High-Quality Case Report
   Rating: good, Score: 8/8, Confidence: 69%
âœ… [Case Report] Fair-Quality Case Report
   Rating: good, Score: 6/8, Confidence: 60%
âœ… [Case Report] Poor-Quality Case Report
   Rating: fair, Score: 5/8, Confidence: 45%

âœ” tests\test-quality-assessment-jbi.js (367.3798ms)
================================================================================
Newcastle-Ottawa Scale (NOS) Quality Assessment - Test Suite
================================================================================

Testing: High-Quality Cohort Study
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Assessing cohort study quality using Newcastle-Ottawa Scale {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-1",
  "design": "cohort_prospective"
}
2025-12-07 01:47:44 [[32minfo[39m]: Newcastle-Ottawa assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-1",
  "total_stars": 8,
  "rating": "good",
  "confidence": 0.711111111111111
}
âœ… PASS
   Quality: GOOD (expected: GOOD) âœ“
   Total Stars: 8/9 (expected: 7-9) âœ“
   Domain Scores:
     - selection: 4 (expected: 3-4) âœ“
     - comparability: 1 (expected: 1-2) âœ“
     - outcome: 3 (expected: 2-3) âœ“
   Confidence: 0.711111111111111%
   Domains Assessed: 3

Testing: Fair-Quality Cohort Study
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Assessing cohort study quality using Newcastle-Ottawa Scale {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-2",
  "design": "cohort_retrospective"
}
2025-12-07 01:47:44 [[32minfo[39m]: Newcastle-Ottawa assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-2",
  "total_stars": 2,
  "rating": "poor",
  "confidence": 0.41111111111111104
}
âœ… PASS
   Quality: POOR (expected: POOR) âœ“
   Total Stars: 2/9 (expected: 1-3) âœ“
   Domain Scores:
     - selection: 1 (expected: 0-2) âœ“
     - comparability: 0 (expected: 0-1) âœ“
     - outcome: 1 (expected: 0-2) âœ“
   Confidence: 0.41111111111111104%
   Domains Assessed: 3

Testing: Poor-Quality Cohort Study
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Assessing cohort study quality using Newcastle-Ottawa Scale {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-3",
  "design": "cohort_prospective"
}
2025-12-07 01:47:44 [[32minfo[39m]: Newcastle-Ottawa assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-3",
  "total_stars": 1,
  "rating": "poor",
  "confidence": 0.41111111111111115
}
âœ… PASS
   Quality: POOR (expected: POOR) âœ“
   Total Stars: 1/9 (expected: 0-3) âœ“
   Domain Scores:
     - selection: 1 (expected: 0-2) âœ“
     - comparability: 0 (expected: 0) âœ“
     - outcome: 0 (expected: 0-1) âœ“
   Confidence: 0.41111111111111115%
   Domains Assessed: 3

Testing: High-Quality Case-Control Study
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Assessing case-control study quality using Newcastle-Ottawa Scale {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-4",
  "design": "case_control"
}
2025-12-07 01:47:44 [[32minfo[39m]: Newcastle-Ottawa assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-4",
  "total_stars": 4,
  "rating": "fair",
  "confidence": 0.5555555555555556
}
âœ… PASS
   Quality: FAIR (expected: FAIR) âœ“
   Total Stars: 4/9 (expected: 3-5) âœ“
   Domain Scores:
     - selection: 2 (expected: 1-3) âœ“
     - comparability: 1 (expected: 0-2) âœ“
     - exposure: 1 (expected: 0-2) âœ“
   Confidence: 0.5555555555555556%
   Domains Assessed: 3

Testing: Fair-Quality Case-Control Study
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Assessing case-control study quality using Newcastle-Ottawa Scale {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-5",
  "design": "case_control"
}
2025-12-07 01:47:44 [[32minfo[39m]: Newcastle-Ottawa assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-5",
  "total_stars": 2,
  "rating": "poor",
  "confidence": 0.41111111111111104
}
âœ… PASS
   Quality: POOR (expected: POOR) âœ“
   Total Stars: 2/9 (expected: 0-3) âœ“
   Domain Scores:
     - selection: 2 (expected: 0-3) âœ“
     - comparability: 0 (expected: 0-1) âœ“
     - exposure: 0 (expected: 0-2) âœ“
   Confidence: 0.41111111111111104%
   Domains Assessed: 3

Testing: Poor-Quality Case-Control Study
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Assessing case-control study quality using Newcastle-Ottawa Scale {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-6",
  "design": "case_control"
}
2025-12-07 01:47:44 [[32minfo[39m]: Newcastle-Ottawa assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-6",
  "total_stars": 0,
  "rating": "poor",
  "confidence": 0.3444444444444444
}
âœ… PASS
   Quality: POOR (expected: POOR) âœ“
   Total Stars: 0/9 (expected: 0-3) âœ“
   Domain Scores:
     - selection: 0 (expected: 0-2) âœ“
     - comparability: 0 (expected: 0) âœ“
     - exposure: 0 (expected: 0-1) âœ“
   Confidence: 0.3444444444444444%
   Domains Assessed: 3

================================================================================
TEST SUMMARY
================================================================================
Total Tests: 6
Passed: 6 (100.0%)
Failed: 0 (0.0%)

DETAILED RESULTS:
--------------------------------------------------------------------------------
âœ… High-Quality Cohort Study
   Quality: GOOD, Stars: 8/9, Confidence: 71%
âœ… Fair-Quality Cohort Study
   Quality: POOR, Stars: 2/9, Confidence: 41%
âœ… Poor-Quality Cohort Study
   Quality: POOR, Stars: 1/9, Confidence: 41%
âœ… High-Quality Case-Control Study
   Quality: FAIR, Stars: 4/9, Confidence: 56%
âœ… Fair-Quality Case-Control Study
   Quality: POOR, Stars: 2/9, Confidence: 41%
âœ… Poor-Quality Case-Control Study
   Quality: POOR, Stars: 0/9, Confidence: 34%

âœ” tests\test-quality-assessment-newcastle-ottawa.js (329.863ms)
================================================================================
QUADAS-2 Quality Assessment - Test Suite
================================================================================

Testing: High-Quality Diagnostic Study (Low Risk)
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Assessing diagnostic accuracy study quality using QUADAS-2 {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-1",
  "design": "diagnostic_accuracy"
}
2025-12-07 01:47:44 [[32minfo[39m]: QUADAS-2 assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-1",
  "overall_risk": "low",
  "confidence": 0.6153846153846154
}
âœ… PASS (or conservatively assessed)
   Overall Risk: low (expected: low) âœ“
   Overall Rating: good
   Confidence: 62%
   Domains Assessed: 4
   Domain Risks:
     - patient_selection: low (expected: low)
     - index_test: low (expected: low)
     - reference_standard: low (expected: low)
     - flow_timing: low (expected: low)

Testing: Moderate-Quality Diagnostic Study (Some Concerns)
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Assessing diagnostic accuracy study quality using QUADAS-2 {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-2",
  "design": "diagnostic_accuracy"
}
2025-12-07 01:47:44 [[32minfo[39m]: QUADAS-2 assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-2",
  "overall_risk": "some_concerns",
  "confidence": 0.41538461538461535
}
âœ… PASS (or conservatively assessed)
   Overall Risk: some_concerns (expected: some_concerns) âœ“
   Overall Rating: fair
   Confidence: 42%
   Domains Assessed: 4
   Domain Risks:
     - patient_selection: some_concerns (expected: low)
     - index_test: some_concerns (expected: unclear)
     - reference_standard: some_concerns (expected: low)
     - flow_timing: some_concerns (expected: some_concerns)

Testing: Poor-Quality Diagnostic Study (High Risk)
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Assessing diagnostic accuracy study quality using QUADAS-2 {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-3",
  "design": "diagnostic_accuracy"
}
2025-12-07 01:47:44 [[32minfo[39m]: QUADAS-2 assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-3",
  "overall_risk": "some_concerns",
  "confidence": 0.35384615384615375
}
âœ… PASS (or conservatively assessed)
   Overall Risk: some_concerns (expected: high) ~
   Overall Rating: fair
   Confidence: 35%
   Domains Assessed: 4
   Domain Risks:
     - patient_selection: some_concerns (expected: high)
     - index_test: some_concerns (expected: high)
     - reference_standard: some_concerns (expected: unclear)
     - flow_timing: some_concerns (expected: unclear)

Testing: Cross-Sectional Diagnostic Study
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Assessing diagnostic accuracy study quality using QUADAS-2 {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-4",
  "design": "cross_sectional"
}
2025-12-07 01:47:44 [[32minfo[39m]: QUADAS-2 assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-4",
  "overall_risk": "some_concerns",
  "confidence": 0.41538461538461535
}
âœ… PASS (or conservatively assessed)
   Overall Risk: some_concerns (expected: low) ~
   Overall Rating: fair
   Confidence: 42%
   Domains Assessed: 4
   Domain Risks:
     - patient_selection: low (expected: low)
     - index_test: some_concerns (expected: low)
     - reference_standard: some_concerns (expected: low)
     - flow_timing: some_concerns (expected: low)

================================================================================
TEST SUMMARY
================================================================================
Total Tests: 4
Passed: 4 (100.0%)
Failed: 0 (0.0%)

DETAILED RESULTS:
--------------------------------------------------------------------------------
âœ… High-Quality Diagnostic Study (Low Risk)
   Risk: low, Confidence: 62%
âœ… Moderate-Quality Diagnostic Study (Some Concerns)
   Risk: some_concerns, Confidence: 42%
âœ… Poor-Quality Diagnostic Study (High Risk)
   Risk: some_concerns, Confidence: 35%
âœ… Cross-Sectional Diagnostic Study
   Risk: some_concerns, Confidence: 42%

âœ” tests\test-quality-assessment-quadas2.js (399.9128ms)
ğŸ§ª Testing Cochrane RoB 2.0 Quality Assessment

================================================================================

ğŸ“‹ Test: High Quality RCT (Low Risk)
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Assessing RCT quality using RoB 2.0 {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-001",
  "design": "rct_parallel",
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: RoB 2.0 assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-001",
  "overall_risk": "some_concerns",
  "confidence": 0.5916666666666667,
  "requires_review": true
}
Expected Risk: low
Actual Risk: some_concerns
Confidence: 59.2%
Requires Review: true

Domain Risks:
  Bias arising from the randomization process: low
  Bias due to deviations from intended interventions: low
  Bias due to missing outcome data: some_concerns
  Bias in measurement of the outcome: some_concerns
  Bias in selection of the reported result: some_concerns

âš ï¸  PARTIAL PASS - Risk level: some_concerns (expected: low)
   Rationale: Some concerns about bias in: Bias due to missing outcome data, Bias in measurement of the outcome, Bias in selection of the reported result

ğŸ“‹ Test: Moderate Quality RCT (Some Concerns)
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Assessing RCT quality using RoB 2.0 {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-002",
  "design": "rct_parallel",
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: RoB 2.0 assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-002",
  "overall_risk": "some_concerns",
  "confidence": 0.44999999999999996,
  "requires_review": true
}
Expected Risk: some_concerns
Actual Risk: some_concerns
Confidence: 45.0%
Requires Review: true

Domain Risks:
  Bias arising from the randomization process: some_concerns
  Bias due to deviations from intended interventions: some_concerns
  Bias due to missing outcome data: some_concerns
  Bias in measurement of the outcome: some_concerns
  Bias in selection of the reported result: some_concerns

âœ… PASS - Risk level matches expected

ğŸ“‹ Test: Low Quality RCT (High Risk)
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Assessing RCT quality using RoB 2.0 {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-003",
  "design": "rct_parallel",
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: RoB 2.0 assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-003",
  "overall_risk": "high",
  "confidence": 0.4833333333333332,
  "requires_review": true
}
Expected Risk: high
Actual Risk: high
Confidence: 48.3%
Requires Review: true

Domain Risks:
  Bias arising from the randomization process: high
  Bias due to deviations from intended interventions: some_concerns
  Bias due to missing outcome data: high
  Bias in measurement of the outcome: some_concerns
  Bias in selection of the reported result: some_concerns

âœ… PASS - Risk level matches expected

ğŸ“‹ Test: RCT with Missing Information (Unclear)
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Assessing RCT quality using RoB 2.0 {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-004",
  "design": "rct_parallel",
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: RoB 2.0 assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "test-004",
  "overall_risk": "some_concerns",
  "confidence": 0.29999999999999993,
  "requires_review": true
}
Expected Risk: some_concerns
Actual Risk: some_concerns
Confidence: 30.0%
Requires Review: true

Domain Risks:
  Bias arising from the randomization process: some_concerns
  Bias due to deviations from intended interventions: some_concerns
  Bias due to missing outcome data: some_concerns
  Bias in measurement of the outcome: some_concerns
  Bias in selection of the reported result: some_concerns

âœ… PASS - Risk level matches expected

================================================================================
ğŸ“Š TEST SUMMARY
================================================================================
Total Tests: 4
Passed: 4 (100.0%)
Failed: 0 (0.0%)

ğŸ“‹ DETAILED RESULTS:
--------------------------------------------------------------------------------
1. âš ï¸ High Quality RCT (Low Risk)
   Expected: low | Actual: some_concerns | Confidence: 59.2% ğŸ” Review
2. âœ… Moderate Quality RCT (Some Concerns)
   Expected: some_concerns | Actual: some_concerns | Confidence: 45.0% ğŸ” Review
3. âœ… Low Quality RCT (High Risk)
   Expected: high | Actual: high | Confidence: 48.3% ğŸ” Review
4. âœ… RCT with Missing Information (Unclear)
   Expected: some_concerns | Actual: some_concerns | Confidence: 30.0% ğŸ” Review

ğŸ“ˆ CONFIDENCE DISTRIBUTION:
--------------------------------------------------------------------------------
High (â‰¥70%): 0 (0.0%)
Medium (50-70%): 1 (25.0%)
Low (<50%): 3 (75.0%)

================================================================================

âœ… All tests passed! RoB 2.0 implementation is working.
âœ” tests\test-quality-assessment-rob2.js (399.9782ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Quality Assessment Summary Table - Test Suite           â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Basic Table Generation ===
2025-12-07 01:47:44 [[32minfo[39m]: Generating quality assessment summary table {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 2
}
2025-12-07 01:47:44 [[32minfo[39m]: Quality assessment summary table generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 2,
  "low_risk": 0,
  "high_risk": 1
}
  âœ“ Table generated
  âœ“ Contains title
  âœ“ Contains first study
  âœ“ Contains second study
  âœ“ Total studies: 2
âœ… Test passed: Test 1: Basic Table Generation

=== Test 2: Summary Statistics Calculation ===
2025-12-07 01:47:44 [[32minfo[39m]: Generating quality assessment summary table {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 3
}
2025-12-07 01:47:44 [[32minfo[39m]: Quality assessment summary table generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 3,
  "low_risk": 1,
  "high_risk": 1
}
  âœ“ Total: 3
  âœ“ Low risk: 1
  âœ“ Some concerns: 1
  âœ“ High risk: 1
âœ… Test passed: Test 2: Summary Statistics Calculation

=== Test 3: Domain Summaries Calculation ===
2025-12-07 01:47:44 [[32minfo[39m]: Generating quality assessment summary table {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 2
}
2025-12-07 01:47:44 [[32minfo[39m]: Quality assessment summary table generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 2,
  "low_risk": 1,
  "high_risk": 1
}
  âœ“ Randomization: 2 low risk
  âœ“ Blinding: 1 low risk
  âœ“ Blinding: 1 high risk
âœ… Test passed: Test 3: Domain Summaries Calculation

=== Test 4: Empty Studies List Handling ===
2025-12-07 01:47:44 [[32minfo[39m]: Generating quality assessment summary table {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 0
}
  âœ“ Shows no studies message
  âœ“ Total studies is 0
  âœ“ Interpretation mentions no studies
âœ… Test passed: Test 4: Empty Studies List Handling

=== Test 5: Multiple Domains Display ===
2025-12-07 01:47:44 [[32minfo[39m]: Generating quality assessment summary table {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 1
}
2025-12-07 01:47:44 [[32minfo[39m]: Quality assessment summary table generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 1,
  "low_risk": 0,
  "high_risk": 1
}
  âœ“ Contains Domain 1
  âœ“ Contains Domain 2
  âœ“ Contains Domain 3
  âœ“ Contains Domain 4
âœ… Test passed: Test 5: Multiple Domains Display

=== Test 6: Interpretation Generation ===
2025-12-07 01:47:44 [[32minfo[39m]: Generating quality assessment summary table {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 2
}
2025-12-07 01:47:44 [[32minfo[39m]: Quality assessment summary table generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 2,
  "low_risk": 1,
  "high_risk": 1
}
  âœ“ Interpretation generated
  âœ“ Mentions study count
  âœ“ Includes percentages
âœ… Test passed: Test 6: Interpretation Generation

============================================================
TEST SUMMARY
============================================================
Total tests: 6
Passed: 6 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-quality-summary-table.js (386.7712ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Research Question Scoring - Test Suite                  â•‘
â•‘   FINER Criteria Assessment                                â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Excellent Question ===
  âœ“ Overall score: 72.5
  âœ“ Rating: good
  âœ“ Strengths: 4
  âœ“ Weaknesses: 1
âœ… Test 1 passed: Excellent question

=== Test 2: Good Question ===
  âœ“ Overall score: 74.5
  âœ“ Rating: good
âœ… Test 2 passed: Good question

=== Test 3: Fair Question ===
  âœ“ Overall score: 58
  âœ“ Rating: fair
  âœ“ Recommendations: 2
âœ… Test 3 passed: Fair question

=== Test 4: Poor Question ===
  âœ“ Overall score: 56
  âœ“ Rating: fair
  âœ“ Weaknesses: 4
âœ… Test 4 passed: Poor question

=== Test 5: Feasibility Assessment ===
  âœ“ Feasible score: 80
  âœ“ Infeasible score: 15
  âœ“ Feasible rationale: Question appears feasible with adequate resources
  âœ“ Infeasible rationale: Question may face feasibility challenges
âœ… Test 5 passed: Feasibility assessment

=== Test 6: Novelty Assessment ===
  âœ“ Novel score: 85
  âœ“ Established score: 40
âœ… Test 6 passed: Novelty assessment

=== Test 7: Ethical Concerns Detection ===
  âœ“ Ethical score: 90
  âœ“ Unethical score: 50
  âœ“ Unethical rationale: Significant ethical concerns need addressing
âœ… Test 7 passed: Ethical concerns detection

=== Test 8: Relevance Assessment ===
  âœ“ Relevant score: 90
  âœ“ Less relevant score: 60
âœ… Test 8 passed: Relevance assessment

=== Test 9: Recommendations Generation ===
  âœ“ Recommendations: 1
  âœ“ Has feasibility recommendation: true
  âœ“ Has novelty recommendation: false
    - Consider narrowing scope or identifying more accessible population
âœ… Test 9 passed: Recommendations generation

=== Test 10: Confidence Scoring ===
  âœ“ Specific question confidence: 56.0%
  âœ“ Vague question confidence: 56.0%
âœ… Test 10 passed: Confidence scoring

============================================================
TEST SUMMARY
============================================================
Total tests: 10
Passed: 10 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-question-scoring.js (334.927ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Study Relevance Screening - Test Suite                  â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Clear Include Decision ===
2025-12-07 01:47:44 [[32minfo[39m]: Screening study for relevance
  âœ“ Valid decision: Exclude
  âœ“ Confidence: 80.0%
  âœ“ Overall PICO score: 23.1%
âœ… Test passed: Test 1: Clear Include Decision

=== Test 2: Clear Exclude Decision ===
2025-12-07 01:47:44 [[32minfo[39m]: Screening study for relevance
  âœ“ Decision: Exclude
  âœ“ Exclusion reasons: 4
âœ… Test passed: Test 2: Clear Exclude Decision

=== Test 3: PICO Match Scoring ===
2025-12-07 01:47:44 [[32minfo[39m]: Screening study for relevance
  âœ“ Population score valid: 33.3%
  âœ“ Intervention score valid: 16.7%
  âœ“ Overall score valid: 35.0%
âœ… Test passed: Test 3: PICO Match Scoring

=== Test 4: Study Design Exclusion ===
2025-12-07 01:47:44 [[32minfo[39m]: Screening study for relevance
  âœ“ Study design exclusion detected
  âœ“ Decision: Exclude
âœ… Test passed: Test 4: Study Design Exclusion

=== Test 5: Publication Year Filtering ===
2025-12-07 01:47:44 [[32minfo[39m]: Screening study for relevance
2025-12-07 01:47:44 [[32minfo[39m]: Screening study for relevance
  âœ“ Too old detected
  âœ“ Too new detected
âœ… Test passed: Test 5: Publication Year Filtering

=== Test 6: Uncertain Decision Handling ===
2025-12-07 01:47:44 [[32minfo[39m]: Screening study for relevance
  âœ“ Valid decision: Exclude
âœ… Test passed: Test 6: Uncertain Decision Handling

=== Test 7: Manual Review Flagging Logic ===
2025-12-07 01:47:44 [[32minfo[39m]: Screening study for relevance
  Manual review: false, Confidence: 80.0%
âœ… Test passed: Test 7: Manual Review Flagging Logic

=== Test 8: Exclusion Reason Severity ===
2025-12-07 01:47:44 [[32minfo[39m]: Screening study for relevance
  âœ“ Major exclusions: 2
âœ… Test passed: Test 8: Exclusion Reason Severity

=== Test 9: Recommendations Quality ===
2025-12-07 01:47:44 [[32minfo[39m]: Screening study for relevance
  âœ“ Recommendations: 1
  âœ“ Recommendations is array
âœ… Test passed: Test 9: Recommendations Quality

=== Test 10: Interpretation Quality ===
2025-12-07 01:47:44 [[32minfo[39m]: Screening study for relevance
  âœ“ Detailed interpretation
  âœ“ Mentions confidence
  âœ“ Mentions PICO scores
âœ… Test passed: Test 10: Interpretation Quality

============================================================
TEST SUMMARY
============================================================
Total tests: 10
Passed: 10 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-relevance-screening.js (355.8763ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Automated Risk of Bias Assessment - Test Suite          â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Low Risk RCT ===
2025-12-07 01:47:44 [[32minfo[39m]: Performing automated risk of bias assessment
  âœ“ 5 domains assessed: 5
  âœ“ Valid overall judgment: High
  âœ“ Confidence >= 40%: 72.0%
âœ… Test passed: Test 1: Low Risk RCT

=== Test 2: High Risk Study ===
2025-12-07 01:47:44 [[32minfo[39m]: Performing automated risk of bias assessment
  âœ“ High risk detected: High
  âœ“ Manual review flagged
âœ… Test passed: Test 2: High Risk Study

=== Test 3: Individual Domain Assessments ===
2025-12-07 01:47:44 [[32minfo[39m]: Performing automated risk of bias assessment
  âœ“ All domains have required fields
  âœ“ All confidences in valid range
âœ… Test passed: Test 3: Individual Domain Assessments

=== Test 4: Evidence Extraction ===
2025-12-07 01:47:44 [[32minfo[39m]: Performing automated risk of bias assessment
  âœ“ Evidence extracted: 2 items
  âœ“ Randomization evidence found
âœ… Test passed: Test 4: Evidence Extraction

=== Test 5: Blinding Detection ===
2025-12-07 01:47:44 [[32minfo[39m]: Performing automated risk of bias assessment
  âœ“ Blinding domain assessed
  âœ“ Blinding assessed as low risk: Low
âœ… Test passed: Test 5: Blinding Detection

=== Test 6: ITT Analysis Detection ===
2025-12-07 01:47:44 [[32minfo[39m]: Performing automated risk of bias assessment
  âœ“ Incomplete data domain assessed
  ITT evidence: 0 items
âœ… Test passed: Test 6: ITT Analysis Detection

=== Test 7: Trial Registration Detection ===
2025-12-07 01:47:44 [[32minfo[39m]: Performing automated risk of bias assessment
  âœ“ Selective reporting domain assessed
  âœ“ Registration evidence found: 3
âœ… Test passed: Test 7: Trial Registration Detection

=== Test 8: Warnings for Limited Information ===
2025-12-07 01:47:44 [[32minfo[39m]: Performing automated risk of bias assessment
  âœ“ Warnings generated: 2
  âœ“ Appropriate warnings for sparse text
âœ… Test passed: Test 8: Warnings for Limited Information

=== Test 9: Recommendations Based on Assessment ===
2025-12-07 01:47:44 [[32minfo[39m]: Performing automated risk of bias assessment
  âœ“ Recommendations: 2
  âœ“ Recommendations is array
âœ… Test passed: Test 9: Recommendations Based on Assessment

=== Test 10: Interpretation Generation ===
2025-12-07 01:47:44 [[32minfo[39m]: Performing automated risk of bias assessment
  âœ“ Detailed interpretation
  âœ“ Mentions risk
  âœ“ Mentions confidence
âœ… Test passed: Test 10: Interpretation Generation

=== Test 11: Manual Review Flagging Logic ===
2025-12-07 01:47:44 [[32minfo[39m]: Performing automated risk of bias assessment
2025-12-07 01:47:44 [[32minfo[39m]: Performing automated risk of bias assessment
  âœ“ Low confidence triggers manual review
  âœ“ Confidence differs based on evidence
âœ… Test passed: Test 11: Manual Review Flagging Logic

=== Test 12: High Risk Indicator Detection ===
2025-12-07 01:47:44 [[32minfo[39m]: Performing automated risk of bias assessment
  âœ“ High risk domains detected: 2
âœ… Test passed: Test 12: High Risk Indicator Detection

=== Test 13: Some Concerns Detection ===
2025-12-07 01:47:44 [[32minfo[39m]: Performing automated risk of bias assessment
  âœ“ Domains with concerns: 5
âœ… Test passed: Test 13: Some Concerns Detection

=== Test 14: Domain Reasoning Quality ===
2025-12-07 01:47:44 [[32minfo[39m]: Performing automated risk of bias assessment
  âœ“ All domains have reasoning
  Sample reasoning: Insufficient information to determine randomizatio...
âœ… Test passed: Test 14: Domain Reasoning Quality

=== Test 15: Overall Judgment Logic ===
2025-12-07 01:47:44 [[32minfo[39m]: Performing automated risk of bias assessment
2025-12-07 01:47:44 [[32minfo[39m]: Performing automated risk of bias assessment
  âœ“ Good study: Some concerns
  âœ“ Mixed study: High
âœ… Test passed: Test 15: Overall Judgment Logic

============================================================
TEST SUMMARY
============================================================
Total tests: 15
Passed: 15 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-rob-ml.js (363.4831ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   RoB Traffic Light Plot - Test Suite                     â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Basic Traffic Light Plot Generation ===
2025-12-07 01:47:44 [[32minfo[39m]: Generating RoB traffic light plot {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 2
}
2025-12-07 01:47:44 [[32minfo[39m]: RoB traffic light plot generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 2,
  "total_domains": 2
}
  âœ“ Plot generated
  âœ“ Contains title
  âœ“ Contains first study
  âœ“ Contains second study
  âœ“ Total studies: 2
  âœ“ Total domains: 2
âœ… Test passed: Test 1: Basic Traffic Light Plot Generation

=== Test 2: Domain Risk Percentages Calculation ===
2025-12-07 01:47:44 [[32minfo[39m]: Generating RoB traffic light plot {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 4
}
2025-12-07 01:47:44 [[32minfo[39m]: RoB traffic light plot generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 4,
  "total_domains": 1
}
  âœ“ Low risk: 50%
  âœ“ High risk: 50%
âœ… Test passed: Test 2: Domain Risk Percentages Calculation

=== Test 3: Multiple Domains Display ===
2025-12-07 01:47:44 [[32minfo[39m]: Generating RoB traffic light plot {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 1
}
2025-12-07 01:47:44 [[32minfo[39m]: RoB traffic light plot generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 1,
  "total_domains": 3
}
  âœ“ Contains Randomization domain
  âœ“ Contains Blinding domain
  âœ“ Contains Incomplete data domain
  âœ“ Total domains: 3
âœ… Test passed: Test 3: Multiple Domains Display

=== Test 4: Empty Studies List Handling ===
2025-12-07 01:47:44 [[32minfo[39m]: Generating RoB traffic light plot {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 0
}
  âœ“ Shows no studies message
  âœ“ Total studies is 0
  âœ“ Interpretation mentions no studies
âœ… Test passed: Test 4: Empty Studies List Handling

=== Test 5: Risk Distribution Calculation ===
2025-12-07 01:47:44 [[32minfo[39m]: Generating RoB traffic light plot {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 1
}
2025-12-07 01:47:44 [[32minfo[39m]: RoB traffic light plot generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 1,
  "total_domains": 2
}
  âœ“ Low risk count: 1
  âœ“ High risk count: 1
âœ… Test passed: Test 5: Risk Distribution Calculation

=== Test 6: Interpretation Generation ===
2025-12-07 01:47:44 [[32minfo[39m]: Generating RoB traffic light plot {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 2
}
2025-12-07 01:47:44 [[32minfo[39m]: RoB traffic light plot generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 2,
  "total_domains": 1
}
  âœ“ Interpretation generated
  âœ“ Mentions study count
  âœ“ Mentions domains
âœ… Test passed: Test 6: Interpretation Generation

=== Test 7: Legend Display ===
2025-12-07 01:47:44 [[32minfo[39m]: Generating RoB traffic light plot {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "study_count": 1
}
2025-12-07 01:47:44 [[32minfo[39m]: RoB traffic light plot generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_studies": 1,
  "total_domains": 1
}
  âœ“ Contains legend
  âœ“ Legend explains low risk
  âœ“ Legend explains some concerns
  âœ“ Legend explains high risk
âœ… Test passed: Test 7: Legend Display

============================================================
TEST SUMMARY
============================================================
Total tests: 7
Passed: 7 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-rob-traffic-light.js (348.9544ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   ROBIS Bias Assessment - Test Suite                      â•‘
â•‘   Risk of Bias in Systematic Reviews                      â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Low Risk Review ===
2025-12-07 01:47:44 [[32minfo[39m]: Assessing systematic review bias using ROBIS {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR001",
  "design": "systematic_review"
}
2025-12-07 01:47:44 [[32minfo[39m]: ROBIS assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR001",
  "overall_risk": "low",
  "confidence": 0.6
}
  âœ“ Overall risk: low
  âœ“ Domains assessed: 4
  âœ“ Confidence: 60.0%
  âœ“ Requires review: true
âœ… Test 1 passed: Low risk review

=== Test 2: High Risk Review ===
2025-12-07 01:47:44 [[32minfo[39m]: Assessing systematic review bias using ROBIS {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR002",
  "design": "systematic_review"
}
2025-12-07 01:47:44 [[32minfo[39m]: ROBIS assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR002",
  "overall_risk": "high",
  "confidence": 0.425
}
  âœ“ Overall risk: high
  âœ“ High risk domains: 3
  âœ“ Requires review: true
âœ… Test 2 passed: High risk review

=== Test 3: Unclear Risk Review ===
2025-12-07 01:47:44 [[32minfo[39m]: Assessing systematic review bias using ROBIS {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR003",
  "design": "systematic_review"
}
2025-12-07 01:47:44 [[32minfo[39m]: ROBIS assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR003",
  "overall_risk": "unclear",
  "confidence": 0.575
}
  âœ“ Overall risk: unclear
  âœ“ Unclear domains: 3
âœ… Test 3 passed: Unclear risk review

=== Test 4: Eligibility Criteria Assessment ===
2025-12-07 01:47:44 [[32minfo[39m]: Assessing systematic review bias using ROBIS {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR004",
  "design": "systematic_review"
}
2025-12-07 01:47:44 [[32minfo[39m]: ROBIS assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR004",
  "overall_risk": "high",
  "confidence": 0.425
}
2025-12-07 01:47:44 [[32minfo[39m]: Assessing systematic review bias using ROBIS {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR005",
  "design": "systematic_review"
}
2025-12-07 01:47:44 [[32minfo[39m]: ROBIS assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR005",
  "overall_risk": "high",
  "confidence": 0.35
}
  âœ“ Clear criteria risk: low
  âœ“ Unclear criteria risk: high
âœ… Test 4 passed: Eligibility criteria assessment

=== Test 5: Search and Selection Assessment ===
2025-12-07 01:47:44 [[32minfo[39m]: Assessing systematic review bias using ROBIS {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR006",
  "design": "systematic_review"
}
2025-12-07 01:47:44 [[32minfo[39m]: ROBIS assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR006",
  "overall_risk": "high",
  "confidence": 0.5
}
2025-12-07 01:47:44 [[32minfo[39m]: Assessing systematic review bias using ROBIS {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR007",
  "design": "systematic_review"
}
2025-12-07 01:47:44 [[32minfo[39m]: ROBIS assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR007",
  "overall_risk": "high",
  "confidence": 0.425
}
  âœ“ Comprehensive search risk: low
  âœ“ Limited search risk: high
âœ… Test 5 passed: Search and selection assessment

=== Test 6: Data Collection Assessment ===
2025-12-07 01:47:44 [[32minfo[39m]: Assessing systematic review bias using ROBIS {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR008",
  "design": "systematic_review"
}
2025-12-07 01:47:44 [[32minfo[39m]: ROBIS assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR008",
  "overall_risk": "high",
  "confidence": 0.5
}
2025-12-07 01:47:44 [[32minfo[39m]: Assessing systematic review bias using ROBIS {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR009",
  "design": "systematic_review"
}
2025-12-07 01:47:44 [[32minfo[39m]: ROBIS assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR009",
  "overall_risk": "high",
  "confidence": 0.425
}
  âœ“ Rigorous data collection risk: unclear
  âœ“ Weak data collection risk: high
âœ… Test 6 passed: Data collection assessment

=== Test 7: Synthesis Assessment ===
2025-12-07 01:47:44 [[32minfo[39m]: Assessing systematic review bias using ROBIS {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR010",
  "design": "meta_analysis"
}
2025-12-07 01:47:44 [[32minfo[39m]: ROBIS assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR010",
  "overall_risk": "high",
  "confidence": 0.375
}
2025-12-07 01:47:44 [[32minfo[39m]: Assessing systematic review bias using ROBIS {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR011",
  "design": "systematic_review"
}
2025-12-07 01:47:44 [[32minfo[39m]: ROBIS assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR011",
  "overall_risk": "high",
  "confidence": 0.35
}
  âœ“ Meta-analysis synthesis risk: low
  âœ“ Narrative synthesis risk: unclear
âœ… Test 7 passed: Synthesis assessment

=== Test 8: Overall Risk Calculation ===
2025-12-07 01:47:44 [[32minfo[39m]: Assessing systematic review bias using ROBIS {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR012",
  "design": "systematic_review"
}
2025-12-07 01:47:44 [[32minfo[39m]: ROBIS assessment complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "study_id": "SR012",
  "overall_risk": "unclear",
  "confidence": 0.575
}
  âœ“ Overall risk: unclear
  âœ“ Domain risks: unclear, low, unclear, unclear
  âœ“ Rationale: Unclear risk in 3 domain(s), no high risk domains
âœ… Test 8 passed: Overall risk calculation

============================================================
TEST SUMMARY
============================================================
Total tests: 8
Passed: 8 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-robis.js (345.5017ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Summary of Findings Table - Test Suite                  â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Basic SoF Table Generation ===
2025-12-07 01:47:44 [[32minfo[39m]: Generating Summary of Findings table {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "outcome_count": 2
}
2025-12-07 01:47:44 [[32minfo[39m]: Summary of Findings table generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_outcomes": 2,
  "high_quality": 1
}
  âœ“ Table generated
  âœ“ Contains title
  âœ“ Contains first outcome
  âœ“ Contains second outcome
  âœ“ Total outcomes: 2
âœ… Test passed: Test 1: Basic SoF Table Generation

=== Test 2: Quality Symbols Display ===
2025-12-07 01:47:44 [[32minfo[39m]: Generating Summary of Findings table {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "outcome_count": 4
}
2025-12-07 01:47:44 [[32minfo[39m]: Summary of Findings table generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_outcomes": 4,
  "high_quality": 1
}
  âœ“ Contains high quality symbol
  âœ“ Contains moderate quality symbol
  âœ“ Contains low quality symbol
  âœ“ Contains very low quality symbol
âœ… Test passed: Test 2: Quality Symbols Display

=== Test 3: Summary Statistics Calculation ===
2025-12-07 01:47:44 [[32minfo[39m]: Generating Summary of Findings table {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "outcome_count": 4
}
2025-12-07 01:47:44 [[32minfo[39m]: Summary of Findings table generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_outcomes": 4,
  "high_quality": 2
}
  âœ“ Total: 4
  âœ“ High: 2
  âœ“ Moderate: 1
  âœ“ Low: 1
âœ… Test passed: Test 3: Summary Statistics Calculation

=== Test 4: Configuration Display ===
2025-12-07 01:47:44 [[32minfo[39m]: Generating Summary of Findings table {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "outcome_count": 1
}
2025-12-07 01:47:44 [[32minfo[39m]: Summary of Findings table generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_outcomes": 1,
  "high_quality": 1
}
  âœ“ Contains population
  âœ“ Contains setting
  âœ“ Contains intervention
  âœ“ Contains control
âœ… Test passed: Test 4: Configuration Display

=== Test 5: Empty Outcomes List Handling ===
2025-12-07 01:47:44 [[32minfo[39m]: Generating Summary of Findings table {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "outcome_count": 0
}
  âœ“ Shows no outcomes message
  âœ“ Total outcomes is 0
  âœ“ Interpretation mentions no outcomes
âœ… Test passed: Test 5: Empty Outcomes List Handling

=== Test 6: Interpretation Generation ===
2025-12-07 01:47:44 [[32minfo[39m]: Generating Summary of Findings table {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "outcome_count": 2
}
2025-12-07 01:47:44 [[32minfo[39m]: Summary of Findings table generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_outcomes": 2,
  "high_quality": 1
}
  âœ“ Interpretation generated
  âœ“ Mentions outcome count
  âœ“ Includes percentages
  âœ“ Mentions confidence
âœ… Test passed: Test 6: Interpretation Generation

=== Test 7: GRADE Legend Display ===
2025-12-07 01:47:44 [[32minfo[39m]: Generating Summary of Findings table {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "outcome_count": 1
}
2025-12-07 01:47:44 [[32minfo[39m]: Summary of Findings table generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_outcomes": 1,
  "high_quality": 1
}
  âœ“ Contains GRADE reference
  âœ“ Explains high quality
  âœ“ Explains moderate quality
  âœ“ Explains low quality
  âœ“ Explains very low quality
âœ… Test passed: Test 7: GRADE Legend Display

=== Test 8: Effect Estimate Display ===
2025-12-07 01:47:44 [[32minfo[39m]: Generating Summary of Findings table {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "outcome_count": 1
}
2025-12-07 01:47:44 [[32minfo[39m]: Summary of Findings table generated {
  "service": "medresearch-ai",
  "version": "6.0.0-beta",
  "total_outcomes": 1,
  "high_quality": 1
}
  âœ“ Contains effect estimate
  âœ“ Contains confidence interval
  âœ“ Contains participant count
  âœ“ Contains study count
âœ… Test passed: Test 8: Effect Estimate Display

============================================================
TEST SUMMARY
============================================================
Total tests: 8
Passed: 8 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-sof-table.js (311.7436ms)
ğŸ§ª Extended Study Design Classifier Test Suite
ğŸ“Š Testing 35 real-world studies

================================================================================
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Efficacy and Safety of the mRNA-1273 SARS-CoV-2 Vaccine",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Efficacy and Safety of the mRNA-1273 SARS-CoV-2 Vaccine",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Efficacy and Safety of the mRNA-1273 SARS-CoV-2 Vaccine",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_parallel",
  "confidence": 0.09689087356141791,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 504
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Randomization mentioned",
  "designs": [
    "rct_parallel",
    "rct_crossover",
    "rct_cluster",
    "rct_factorial"
  ],
  "weight": 9
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Placebo control",
  "designs": [
    "rct_parallel"
  ],
  "weight": 8
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Odds ratio / logistic regression",
  "designs": [
    "case_control"
  ],
  "weight": 7
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_parallel",
  "confidence": 0.3162563494245672,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Comparison of formoterol and salmeterol in patients with asthma: a crossover study",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Comparison of formoterol and salmeterol in patients with asthma: a crossover study",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Comparison of formoterol and salmeterol in patients with asthma: a crossover study",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_crossover",
  "confidence": 0.5708079963702607,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 320
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Randomization mentioned",
  "designs": [
    "rct_parallel",
    "rct_crossover",
    "rct_cluster",
    "rct_factorial"
  ],
  "weight": 9
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Blinding mentioned",
  "designs": [
    "rct_parallel",
    "rct_crossover"
  ],
  "weight": 8
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Crossover RCT methods",
  "designs": [
    "rct_crossover"
  ],
  "weight": 9
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_crossover",
  "confidence": 0.6223231985481043,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Cluster randomized trial of a school-based physical activity intervention",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Cluster randomized trial of a school-based physical activity intervention",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Cluster randomized trial of a school-based physical activity intervention",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_cluster",
  "confidence": 0.2279713002575384,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 280
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Randomization mentioned",
  "designs": [
    "rct_parallel",
    "rct_crossover",
    "rct_cluster",
    "rct_factorial"
  ],
  "weight": 9
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Odds ratio / logistic regression",
  "designs": [
    "case_control"
  ],
  "weight": 7
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Cluster RCT methods",
  "designs": [
    "rct_cluster"
  ],
  "weight": 9
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_cluster",
  "confidence": 0.37618852010301534,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Factorial trial of diet and drug therapy in hypertension",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Factorial trial of diet and drug therapy in hypertension",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Factorial trial of diet and drug therapy in hypertension",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_factorial",
  "confidence": 0.894101037764082,
  "requires_review": false,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 291
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Randomization mentioned",
  "designs": [
    "rct_parallel",
    "rct_crossover",
    "rct_cluster",
    "rct_factorial"
  ],
  "weight": 9
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Odds ratio / logistic regression",
  "designs": [
    "case_control"
  ],
  "weight": 7
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_factorial",
  "confidence": 0.7251404151056329,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Impact of smoke-free legislation on hospital admissions: a quasi-experimental study",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Impact of smoke-free legislation on hospital admissions: a quasi-experimental study",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Impact of smoke-free legislation on hospital admissions: a quasi-experimental study",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "quasi_experimental",
  "confidence": 0.21024374859347433,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 267
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Randomization mentioned",
  "designs": [
    "rct_parallel",
    "rct_crossover",
    "rct_cluster",
    "rct_factorial"
  ],
  "weight": 9
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_parallel",
  "confidence": 0.3015974994373897,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}

âŒ FAILED: Quasi-Experimental (Policy evaluation)
   Expected: quasi_experimental
   Predicted: rct_parallel (30.2%)
   Alternatives: rct_crossover (99.7%), rct_cluster (99.1%), rct_factorial (99.1%)
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Cardiovascular disease risk factors: the Framingham Heart Study",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Cardiovascular disease risk factors: the Framingham Heart Study",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Cardiovascular disease risk factors: the Framingham Heart Study",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "cohort_prospective",
  "confidence": 0.11472366718776275,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 327
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Hazard ratio / Cox regression",
  "designs": [
    "cohort_prospective",
    "cohort_retrospective"
  ],
  "weight": 9
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "cohort_prospective",
  "confidence": 0.2633894668751051,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Retrospective cohort study of antibiotic use and C. difficile infection",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Retrospective cohort study of antibiotic use and C. difficile infection",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Retrospective cohort study of antibiotic use and C. difficile infection",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "cohort_retrospective",
  "confidence": 0.19431344562024822,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 263
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "cohort_retrospective",
  "confidence": 0.07772537824809929,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Smoking and lung cancer: a case-control study",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Smoking and lung cancer: a case-control study",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Smoking and lung cancer: a case-control study",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "case_control",
  "confidence": 0.8504673940852796,
  "requires_review": false,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 272
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Odds ratio / logistic regression",
  "designs": [
    "case_control"
  ],
  "weight": 7
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Matched case-control",
  "designs": [
    "case_control"
  ],
  "weight": 8
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "case_control",
  "confidence": 0.7526869576341119,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Nested case-control study of inflammatory biomarkers and coronary heart disease",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Nested case-control study of inflammatory biomarkers and coronary heart disease",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Nested case-control study of inflammatory biomarkers and coronary heart disease",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "case_control",
  "confidence": 0.20216146885849437,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 257
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "case_control",
  "confidence": 0.08086458754339776,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Prevalence of diabetes in the United States: NHANES 2015-2018",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Prevalence of diabetes in the United States: NHANES 2015-2018",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Prevalence of diabetes in the United States: NHANES 2015-2018",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "cross_sectional",
  "confidence": 0.5362996595198513,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 260
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Prevalence / chi-square",
  "designs": [
    "cross_sectional"
  ],
  "weight": 6
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "cross_sectional",
  "confidence": 0.4595198638079405,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Ecological study of air pollution and respiratory disease across US counties",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Ecological study of air pollution and respiratory disease across US counties",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Ecological study of air pollution and respiratory disease across US counties",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "ecological",
  "confidence": 0.9707645715639718,
  "requires_review": false,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 279
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "ecological",
  "confidence": 0.3883058286255887,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Case series of 15 patients with Kawasaki disease",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Case series of 15 patients with Kawasaki disease",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Case series of 15 patients with Kawasaki disease",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "case_series",
  "confidence": 0.6899744811276125,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 226
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "case_series",
  "confidence": 0.275989792451045,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Rare neurological manifestation of COVID-19: a case report",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Rare neurological manifestation of COVID-19: a case report",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Rare neurological manifestation of COVID-19: a case report",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "case_report",
  "confidence": 0.20198837101772651,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 223
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "case_report",
  "confidence": 0.08079534840709061,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Antidepressants for depression in adults: a systematic review",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Antidepressants for depression in adults: a systematic review",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Antidepressants for depression in adults: a systematic review",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "systematic_review",
  "confidence": 0.5460232035558019,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 340
}
2025-12-07 01:47:44 [[32minfo[39m]: Reporting guideline match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "PRISMA guideline",
  "designs": [
    "systematic_review",
    "meta_analysis"
  ],
  "weight": 10
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "systematic_review",
  "confidence": 0.5434092814223207,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Statins for primary prevention of cardiovascular disease: meta-analysis of randomized trials",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Statins for primary prevention of cardiovascular disease: meta-analysis of randomized trials",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Statins for primary prevention of cardiovascular disease: meta-analysis of randomized trials",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "meta_analysis",
  "confidence": 0.5222076018581396,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 378
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Randomization mentioned",
  "designs": [
    "rct_parallel",
    "rct_crossover",
    "rct_cluster",
    "rct_factorial"
  ],
  "weight": 9
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Relative risk",
  "designs": [
    "cohort_prospective",
    "cohort_retrospective"
  ],
  "weight": 7
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Forest/funnel plot",
  "designs": [
    "meta_analysis"
  ],
  "weight": 10
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Heterogeneity assessment",
  "designs": [
    "meta_analysis"
  ],
  "weight": 9
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Meta-analysis models",
  "designs": [
    "meta_analysis"
  ],
  "weight": 8
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Publication bias assessment",
  "designs": [
    "meta_analysis"
  ],
  "weight": 7
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "meta_analysis",
  "confidence": 0.6028830407432558,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Network meta-analysis of antihypertensive drugs",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Network meta-analysis of antihypertensive drugs",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Network meta-analysis of antihypertensive drugs",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "network_meta_analysis",
  "confidence": 0.2132805687032224,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 279
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Forest/funnel plot",
  "designs": [
    "meta_analysis"
  ],
  "weight": 10
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "meta_analysis",
  "confidence": 0.31031222748128895,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}

âŒ FAILED: Network Meta-Analysis (Multiple treatments)
   Expected: network_meta_analysis
   Predicted: meta_analysis (31.0%)
   Alternatives: network_meta_analysis (2.8%), case_control (0.9%), rct_parallel (0.5%)
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Scoping review of artificial intelligence in medical diagnosis",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Scoping review of artificial intelligence in medical diagnosis",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Scoping review of artificial intelligence in medical diagnosis",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "scoping_review",
  "confidence": 0.20071715051915365,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 279
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "scoping_review",
  "confidence": 0.08028686020766146,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Umbrella review of systematic reviews on diet and cancer",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Umbrella review of systematic reviews on diet and cancer",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Umbrella review of systematic reviews on diet and cancer",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "umbrella_review",
  "confidence": 0.712612867199481,
  "requires_review": false,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 284
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "umbrella_review",
  "confidence": 0.28504514687979243,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Rapid review of COVID-19 treatments",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Rapid review of COVID-19 treatments",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Rapid review of COVID-19 treatments",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rapid_review",
  "confidence": 0.2733329435864668,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 242
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rapid_review",
  "confidence": 0.10933317743458673,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Narrative review of advances in cancer immunotherapy",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Narrative review of advances in cancer immunotherapy",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Narrative review of advances in cancer immunotherapy",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "narrative_review",
  "confidence": 0.3152349450679883,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 240
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "narrative_review",
  "confidence": 0.12609397802719532,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Lived experiences of breast cancer survivors: a phenomenological study",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Lived experiences of breast cancer survivors: a phenomenological study",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Lived experiences of breast cancer survivors: a phenomenological study",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "phenomenology",
  "confidence": 0.8839899871502821,
  "requires_review": false,
  "ambiguous": false
}

âŒ FAILED: Convergent (Parallel collection)
   Expected: convergent
   Predicted: case_report (26.5%)
   Alternatives: convergent (1.7%), cross_sectional (1.3%), rct_parallel (0.6%)

âŒ FAILED: Prognostic Factor Study (Risk prediction)
   Expected: prognostic_factor
   Predicted: cohort_prospective (37.1%)
   Alternatives: cohort_retrospective (99.0%), prognostic_factor (5.6%), case_control (1.0%)

âŒ FAILED: Prediction Model (Risk score)
   Expected: prediction_model
   Predicted: case_control (24.9%)
   Alternatives: prediction_model (2.2%), rct_parallel (0.7%), rct_crossover (0.7%)

âŒ FAILED: Short Abstract - Minimal information
   Expected: case_report
   Predicted: case_control (2.7%)
   Alternatives: case_report (93.6%), rct_parallel (57.0%), rct_crossover (57.0%)

================================================================================
ğŸ“Š TEST SUMMARY
================================================================================
Total Tests: 35
Passed: 29 (82.9%)
Failed: 6 (17.1%)
Accuracy: 82.9%

Performance:
  Total Time: 44ms
  Average Time: 1.3ms per test
  Target: <100ms âœ…

ğŸ“ˆ CONFIDENCE DISTRIBUTION:
--------------------------------------------------------------------------------
High (â‰¥0.9): 0 (0.0%)
Medium (0.7-0.9): 3 (8.6%)
Low (<0.7): 32 (91.4%)

ğŸ“‹ ACCURACY BY CATEGORY:
--------------------------------------------------------------------------------
Experimental (RCTs): 4/5 (80.0%)
Observational: 8/8 (100.0%)
Reviews: 6/7 (85.7%)
Qualitative: 4/4 (100.0%)
Mixed Methods: 2/3 (66.7%)
Diagnostic/Prognostic: 1/3 (33.3%)
Edge Cases: 4/5 (80.0%)

âŒ FAILED TESTS:
--------------------------------------------------------------------------------
1. Quasi-Experimental (Policy evaluation)
   Expected: quasi_experimental
   Predicted: rct_parallel (30.2%)
   Alternatives: rct_crossover (99.7%), rct_cluster (99.1%), rct_factorial (99.1%)
2. Network Meta-Analysis (Multiple treatments)
   Expected: network_meta_analysis
   Predicted: meta_analysis (31.0%)
   Alternatives: network_meta_analysis (2.8%), case_control (0.9%), rct_parallel (0.5%)
3. Convergent (Parallel collection)
   Expected: convergent
   Predicted: case_report (26.5%)
   Alternatives: convergent (1.7%), cross_sectional (1.3%), rct_parallel (0.6%)
4. Prognostic Factor Study (Risk prediction)
   Expected: prognostic_factor
   Predicted: cohort_prospective (37.1%)
   Alternatives: cohort_retrospective (99.0%), prognostic_factor (5.6%), case_control (1.0%)
5. Prediction Model (Risk score)
   Expected: prediction_model
   Predicted: case_control (24.9%)
   Alternatives: prediction_model (2.2%), rct_parallel (0.7%), rct_crossover (0.7%)
6. Short Abstract - Minimal information
   Expected: case_report
   Predicted: case_control (2.7%)
   Alternatives: case_report (93.6%), rct_parallel (57.0%), rct_crossover (57.0%)

ğŸ¯ TARGET CHECK:
--------------------------------------------------------------------------------
âœ… Target met! Accuracy 82.9% â‰¥ 80%

================================================================================

âœ… All tests complete! Enhanced hybrid classifier is ready for production.
âœ” tests\test-study-design-classifier-extended.js (346.7081ms)
ğŸ§ª Testing Study Design Classifier

================================================================================

ğŸ“‹ Test: RCT - Parallel Group
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Metformin versus sulfonylureas in type 2 diabetes: a randomized controlled trial",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Metformin versus sulfonylureas in type 2 diabetes: a randomized controlled trial",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Metformin versus sulfonylureas in type 2 diabetes: a randomized controlled trial",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_parallel",
  "confidence": 0.11519818619543697,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 545
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Randomization mentioned",
  "designs": [
    "rct_parallel",
    "rct_crossover",
    "rct_cluster",
    "rct_factorial"
  ],
  "weight": 9
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Odds ratio / logistic regression",
  "designs": [
    "case_control"
  ],
  "weight": 7
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_parallel",
  "confidence": 0.2635792744781748,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
Expected: rct_parallel
Predicted: rct_parallel
Confidence: 26.4%
Status: âœ… PASS
Top Keywords: randomized controlled trial, randomly assigned, Randomization mentioned

ğŸ“‹ Test: RCT - Crossover
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Crossover trial of two bronchodilators in asthma",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Crossover trial of two bronchodilators in asthma",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Crossover trial of two bronchodilators in asthma",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_crossover",
  "confidence": 0.5708079963702607,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 258
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Randomization mentioned",
  "designs": [
    "rct_parallel",
    "rct_crossover",
    "rct_cluster",
    "rct_factorial"
  ],
  "weight": 9
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Odds ratio / logistic regression",
  "designs": [
    "case_control"
  ],
  "weight": 7
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Crossover RCT methods",
  "designs": [
    "rct_crossover"
  ],
  "weight": 9
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_crossover",
  "confidence": 0.6133231985481042,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
Expected: rct_crossover
Predicted: rct_crossover
Confidence: 61.3%
Status: âœ… PASS
Top Keywords: crossover, crossover trial, washout period

ğŸ“‹ Test: RCT - Cluster
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Cluster randomized trial of hand hygiene intervention in schools",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Cluster randomized trial of hand hygiene intervention in schools",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Cluster randomized trial of hand hygiene intervention in schools",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_cluster",
  "confidence": 0.2279713002575384,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 248
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Randomization mentioned",
  "designs": [
    "rct_parallel",
    "rct_crossover",
    "rct_cluster",
    "rct_factorial"
  ],
  "weight": 9
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Odds ratio / logistic regression",
  "designs": [
    "case_control"
  ],
  "weight": 7
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Cluster RCT methods",
  "designs": [
    "rct_cluster"
  ],
  "weight": 9
}
2025-12-07 01:47:44 [[32minfo[39m]: Reporting guideline match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "CARE guideline",
  "designs": [
    "case_report"
  ],
  "weight": 9
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "rct_cluster",
  "confidence": 0.37618852010301534,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
Expected: rct_cluster
Predicted: rct_cluster
Confidence: 37.6%
Status: âœ… PASS
Top Keywords: cluster randomized, intracluster correlation, ICC

ğŸ“‹ Test: Cohort - Prospective
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Smoking and lung cancer: a prospective cohort study",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Smoking and lung cancer: a prospective cohort study",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Smoking and lung cancer: a prospective cohort study",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "cohort_prospective",
  "confidence": 0.7001878976035428,
  "requires_review": false,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 258
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Hazard ratio / Cox regression",
  "designs": [
    "cohort_prospective",
    "cohort_retrospective"
  ],
  "weight": 9
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "cohort_prospective",
  "confidence": 0.6475751590414172,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
Expected: cohort_prospective
Predicted: cohort_prospective
Confidence: 64.8%
Status: âœ… PASS
Top Keywords: prospective cohort, cohort study, incidence

ğŸ“‹ Test: Case-Control
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Risk factors for pancreatic cancer: a case-control study",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Risk factors for pancreatic cancer: a case-control study",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Risk factors for pancreatic cancer: a case-control study",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "case_control",
  "confidence": 0.8504673940852796,
  "requires_review": false,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 226
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Odds ratio / logistic regression",
  "designs": [
    "case_control"
  ],
  "weight": 7
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Matched case-control",
  "designs": [
    "case_control"
  ],
  "weight": 8
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "case_control",
  "confidence": 0.7526869576341119,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
Expected: case_control
Predicted: case_control
Confidence: 75.3%
Status: âœ… PASS
Top Keywords: case-control, case-control study, odds ratio

ğŸ“‹ Test: Cross-Sectional
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Prevalence of hypertension in urban China: a cross-sectional survey",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Prevalence of hypertension in urban China: a cross-sectional survey",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Prevalence of hypertension in urban China: a cross-sectional survey",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "cross_sectional",
  "confidence": 0.5362996595198513,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 242
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Prevalence / chi-square",
  "designs": [
    "cross_sectional"
  ],
  "weight": 6
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "cross_sectional",
  "confidence": 0.4595198638079405,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
Expected: cross_sectional
Predicted: cross_sectional
Confidence: 46.0%
Status: âœ… PASS
Top Keywords: cross-sectional, prevalence, survey

ğŸ“‹ Test: Systematic Review
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Effectiveness of statins for primary prevention: a systematic review",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Effectiveness of statins for primary prevention: a systematic review",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Effectiveness of statins for primary prevention: a systematic review",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "systematic_review",
  "confidence": 0.6899744811276125,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 321
}
2025-12-07 01:47:44 [[32minfo[39m]: Reporting guideline match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "PRISMA guideline",
  "designs": [
    "systematic_review",
    "meta_analysis"
  ],
  "weight": 10
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "systematic_review",
  "confidence": 0.6009897924510449,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
Expected: systematic_review
Predicted: systematic_review
Confidence: 60.1%
Status: âœ… PASS
Top Keywords: systematic review, PRISMA, quality assessment

ğŸ“‹ Test: Meta-Analysis
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Aspirin for cardiovascular prevention: a meta-analysis of randomized trials",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Aspirin for cardiovascular prevention: a meta-analysis of randomized trials",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Aspirin for cardiovascular prevention: a meta-analysis of randomized trials",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "meta_analysis",
  "confidence": 0.7086608250294354,
  "requires_review": false,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 316
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Randomization mentioned",
  "designs": [
    "rct_parallel",
    "rct_crossover",
    "rct_cluster",
    "rct_factorial"
  ],
  "weight": 9
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Relative risk",
  "designs": [
    "cohort_prospective",
    "cohort_retrospective"
  ],
  "weight": 7
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Forest/funnel plot",
  "designs": [
    "meta_analysis"
  ],
  "weight": 10
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Heterogeneity assessment",
  "designs": [
    "meta_analysis"
  ],
  "weight": 9
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Meta-analysis models",
  "designs": [
    "meta_analysis"
  ],
  "weight": 8
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Publication bias assessment",
  "designs": [
    "meta_analysis"
  ],
  "weight": 7
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "meta_analysis",
  "confidence": 0.7274643300117741,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
Expected: meta_analysis
Predicted: meta_analysis
Confidence: 72.7%
Status: âœ… PASS
Top Keywords: meta-analysis, pooled analysis, heterogeneity

ğŸ“‹ Test: Case Report
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Rare presentation of COVID-19 with neurological symptoms: a case report",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Rare presentation of COVID-19 with neurological symptoms: a case report",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Rare presentation of COVID-19 with neurological symptoms: a case report",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "case_report",
  "confidence": 0.3175145874438255,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 230
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "case_report",
  "confidence": 0.1270058349775302,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
Expected: case_report
Predicted: case_report
Confidence: 12.7%
Status: âœ… PASS
Top Keywords: case report, we report, rare presentation

ğŸ“‹ Test: Diagnostic Accuracy
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Diagnostic accuracy of rapid antigen tests for COVID-19",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Diagnostic accuracy of rapid antigen tests for COVID-19",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Diagnostic accuracy of rapid antigen tests for COVID-19",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "diagnostic_accuracy",
  "confidence": 0.7463179051006807,
  "requires_review": false,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 283
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Diagnostic accuracy metrics",
  "designs": [
    "diagnostic_accuracy"
  ],
  "weight": 9
}
2025-12-07 01:47:44 [[32minfo[39m]: Statistical pattern match {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "description": "Reference standard",
  "designs": [
    "diagnostic_accuracy"
  ],
  "weight": 7
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "diagnostic_accuracy",
  "confidence": 0.7185271620402723,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
Expected: diagnostic_accuracy
Predicted: diagnostic_accuracy
Confidence: 71.9%
Status: âœ… PASS
Top Keywords: diagnostic accuracy, sensitivity, specificity

ğŸ“‹ Test: Qualitative - Phenomenology
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Lived experiences of cancer survivors: a phenomenological study",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Lived experiences of cancer survivors: a phenomenological study",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Lived experiences of cancer survivors: a phenomenological study",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "phenomenology",
  "confidence": 0.8839899871502821,
  "requires_review": false,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 284
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "phenomenology",
  "confidence": 0.35359599486011284,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
Expected: phenomenology
Predicted: phenomenology
Confidence: 35.4%
Status: âœ… PASS
Top Keywords: phenomenological, lived experience, interpretive phenomenological

ğŸ“‹ Test: Mixed Methods - Convergent
--------------------------------------------------------------------------------
2025-12-07 01:47:44 [[32minfo[39m]: Classifying study design {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Patient satisfaction with telemedicine: a convergent mixed methods study",
  "has_abstract": true,
  "has_methods": false,
  "has_full_text": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting enhanced hybrid classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Patient satisfaction with telemedicine: a convergent mixed methods study",
  "has_mesh": false,
  "has_pub_type": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Starting keyword-based classification {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "title": "Patient satisfaction with telemedicine: a convergent mixed methods study",
  "has_abstract": true,
  "has_methods": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Keyword classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "convergent",
  "confidence": 0.11765621543622433,
  "requires_review": true,
  "ambiguous": false
}
2025-12-07 01:47:44 [[32minfo[39m]: Classifying using statistical methods {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "text_length": 264
}
2025-12-07 01:47:44 [[32minfo[39m]: Enhanced hybrid classification complete {
  "service": "medresearch-ai",
  "version": "4.1.0",
  "primary_design": "convergent",
  "confidence": 0.047062486174489736,
  "method": "ensemble",
  "keyword_weight": 0.4,
  "mesh_weight": 0.3,
  "statistical_weight": 0.3
}
Expected: convergent
Predicted: convergent
Confidence: 4.7%
Status: âœ… PASS
Top Keywords: convergent, mixed methods

================================================================================
ğŸ“Š TEST SUMMARY
================================================================================
Total Tests: 12
Passed: 12 (100.0%)
Failed: 0 (0.0%)
Accuracy: 100.0%

ğŸ“‹ DETAILED RESULTS:
--------------------------------------------------------------------------------
1. âœ… RCT - Parallel Group: rct_parallel (26.4%) âš ï¸ Review ğŸ”€ Ambiguous
2. âœ… RCT - Crossover: rct_crossover (61.3%) âš ï¸ Review 
3. âœ… RCT - Cluster: rct_cluster (37.6%) âš ï¸ Review 
4. âœ… Cohort - Prospective: cohort_prospective (64.8%) âš ï¸ Review ğŸ”€ Ambiguous
5. âœ… Case-Control: case_control (75.3%)  
6. âœ… Cross-Sectional: cross_sectional (46.0%) âš ï¸ Review 
7. âœ… Systematic Review: systematic_review (60.1%) âš ï¸ Review ğŸ”€ Ambiguous
8. âœ… Meta-Analysis: meta_analysis (72.7%)  
9. âœ… Case Report: case_report (12.7%) âš ï¸ Review 
10. âœ… Diagnostic Accuracy: diagnostic_accuracy (71.9%)  
11. âœ… Qualitative - Phenomenology: phenomenology (35.4%) âš ï¸ Review 
12. âœ… Mixed Methods - Convergent: convergent (4.7%) âš ï¸ Review 

ğŸ“ˆ CONFIDENCE DISTRIBUTION:
--------------------------------------------------------------------------------
High (â‰¥0.9): 0 (0.0%)
Medium (0.7-0.9): 3 (25.0%)
Low (<0.7): 9 (75.0%)

ğŸ¯ TARGET CHECK:
--------------------------------------------------------------------------------
âœ… Target met! Accuracy 100.0% â‰¥ 70%

================================================================================

âœ… All tests complete! Keyword classifier is ready.
âœ” tests\test-study-design-classifier.js (322.7801ms)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ§ª MCP Tool Registration Test Suite
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Testing 5 Phase 1 tools: verify_citations_batch, screen_citations_ml, check_grammar, check_prisma_compliance, create_project_dashboard
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


ğŸ§ª Testing: 1. Index file exists and is readable...
   âœ“ index.ts found (55423 bytes)
âœ… PASSED: 1. Index file exists and is readable

ğŸ§ª Testing: 2. All 5 tools defined in TOOLS array...
   âœ“ All 5 tools found in TOOLS array
âœ… PASSED: 2. All 5 tools defined in TOOLS array

ğŸ§ª Testing: 3. All 5 tool imports exist...
   âœ“ All 5 tool imports found
âœ… PASSED: 3. All 5 tool imports exist

ğŸ§ª Testing: 4. All 5 tool handlers exist in switch statement...
   âœ“ All 5 tool handlers found in switch statement
âœ… PASSED: 4. All 5 tool handlers exist in switch statement

ğŸ§ª Testing: 5. All 5 tool schemas have required fields...
   âœ“ All 5 tool schemas have required fields
âœ… PASSED: 5. All 5 tool schemas have required fields

ğŸ§ª Testing: 6. All 5 compiled JavaScript files exist...
   âœ“ All 5 compiled JavaScript files exist
âœ… PASSED: 6. All 5 compiled JavaScript files exist

ğŸ§ª Testing: 7. All 5 TypeScript source files exist...
   âœ“ All 5 TypeScript source files exist
âœ… PASSED: 7. All 5 TypeScript source files exist

ğŸ§ª Testing: 8. Tool count verification (â‰¥19 tools)...
   âœ“ TOOLS array contains 42 tools (expected â‰¥19)
âœ… PASSED: 8. Tool count verification (â‰¥19 tools)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š Test Summary
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Total Tests:  8
âœ… Passed:    8
âŒ Failed:    0
Duration:     0.01s
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… All tests passed!
âœ” tests\test-tool-registration.js (155.5331ms)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Treatment Ranking - Test Suite                          â•‘
â•‘   Version: 6.0.0-beta                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Test 1: Simple Ranking (3 Treatments) ===
  âœ“ Best treatment: A
  âœ“ SUCRA A: 98.3%
  âœ“ SUCRA B: 44.3%
  âœ“ SUCRA C: 7.4%
âœ… Test 1 passed: Simple ranking

=== Test 2: SUCRA Range ===
  âœ“ All SUCRA values in valid range
  âœ“ All P-scores in valid range
  âœ“ All probabilities in valid range
âœ… Test 2 passed: SUCRA range validation

=== Test 3: Probability of Being Best ===
  âœ“ Sum of prob_best: 1.000
  âœ“ Best treatment prob_best: 99.9%
âœ… Test 3 passed: Probability of being best

=== Test 4: Mean Rank ===
  âœ“ Best treatment mean rank: 1.04
  âœ“ Best treatment median rank: 1
âœ… Test 4 passed: Mean rank calculation

=== Test 5: Rank Probabilities ===
  âœ“ Rank probabilities sum to 1
âœ… Test 5 passed: Rank probabilities

=== Test 6: Higher vs Lower is Better ===
  âœ“ Higher is better - best: A
  âœ“ Lower is better - best: B
âœ… Test 6 passed: Higher vs lower is better

=== Test 7: Interpretation ===
  âœ“ Interpretation: Based on 1,000 simulations, A ranks highest (SUCRA = 100.0%, 100.0% probability ...
âœ… Test 7 passed: Interpretation generated

=== Test 8: Confidence Scoring ===
  âœ“ Clear ranking confidence: 60.0%
  âœ“ Uncertain ranking confidence: 50.0%
âœ… Test 8 passed: Confidence scoring

=== Test 9: Recommendations ===
  âœ“ Recommendations: 3
âœ… Test 9 passed: Recommendations generated

=== Test 10: Warnings ===
  âœ“ Warnings: 1
âœ… Test 10 passed: Warnings generated

============================================================
TEST SUMMARY
============================================================
Total tests: 10
Passed: 10 âœ…
Failed: 0 âŒ
Success rate: 100.0%
============================================================
âœ” tests\test-treatment-ranking.js (301.5045ms)
â„¹ tests 98
â„¹ suites 0
â„¹ pass 92
â„¹ fail 6
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 14197.8395

âœ– failing tests:

test at tests\test-databases.js:1:1
âœ– tests\test-databases.js (14004.9995ms)
  'test failed'

test at tests\test-grammar-checking.js:1:1
âœ– tests\test-grammar-checking.js (395.3992ms)
  'test failed'

test at tests\test-meta-analysis.js:1:1
âœ– tests\test-meta-analysis.js (169.0975ms)
  'test failed'

test at tests\test-ml-screening.js:1:1
âœ– tests\test-ml-screening.js (477.3719ms)
  'test failed'

test at tests\test-plagiarism.js:1:1
âœ– tests\test-plagiarism.js (139.7089ms)
  'test failed'

test at tests\test-prisma-compliance.js:1:1
âœ– tests\test-prisma-compliance.js (341.9095ms)
  'test failed'
